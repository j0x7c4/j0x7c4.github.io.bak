
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>醉過方知酒濃</title> 
	<meta name="author" content="Eli">
	
	<meta name="description" content="最早认识R语言是看到一本书叫做“Machine Learning for Hackers”, 听说R在machine learning的研究方面很有用处，就是一个专门为Machine Learning而生的语言，不过一直没用仔细研究过。在网上寻找Feature Selection方面的工具时， &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

	<link href="/atom.xml" rel="alternate" title="醉過方知酒濃" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<!--<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>-->
<!--google map-->
<!--<link href="/stylesheets/gmap.css" rel="stylesheet" type="text/css">-->
<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
<!--<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>-->
<!--<script src="/javascripts/gmap.js"></script>-->
<!-- Bootstrap -->
<link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/css/bootstrap.min.css">
<link rel="stylesheet" href="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/css/bootstrap-theme.min.css">
<link href="/stylesheets/elistyle.css" media="screen, projection" rel="stylesheet" type="text/css">
<script src="http://cdn.bootcss.com/jquery/1.10.2/jquery.min.js"></script>
<script src="http://cdn.bootcss.com/twitter-bootstrap/3.0.3/js/bootstrap.min.js"></script>
<!-- MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript"
   src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
</head>
<body>
<header class="navbar eli-navbar navbar-fixed-top" role="navigation">
	<div class="container"><div class="navbar-header">
	<button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
	</button>
	<a class="navbar-brand">醉過方知酒濃</a>
</div>

<nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
	<ul class="nav navbar-nav"><li id="home"></span>
<a href="/">
	<span class="glyphicon glyphicon-home"> Home</span>
</a>
</li>
<li id="archives">
<a href="/blog/archives">
	<span class="glyphicon glyphicon-inbox"> Archives</span>
</a>
</li>
<li id="research">
<a href="/research"><span class="glyphicon glyphicon-book"> Research</span></a>
</li>
<li id="about">
<a href="/about"><span class="glyphicon glyphicon-user"> About</span></a>
</li>
<li id="links">
<a href="/links"><span class="glyphicon glyphicon-link"> Links</span></a>
</li></ul>
</nav>
</div>
</header>
<!--<div class="banner jumbotron">
	<h1>醉過方知酒濃</h1>
</div>-->
<div class="container eli-body">
<div class="row">
	<div class="col-md-3"></div>
	<div class="col-md-9">
	


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/10/new-fselector-r/">
		
			Feature Selection in R Is EASY!</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-10-10T23:43:00+08:00" pubdate data-updated="true">Oct 10<span>th</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/r/'>R</a>, <a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/10/10/new-fselector-r/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<p>最早认识R语言是看到一本书叫做<i>“Machine Learning for Hackers”</i>, 听说R在machine learning的研究方面很有用处，就是一个专门为Machine Learning而生的语言，不过一直没用仔细研究过。在网上寻找Feature Selection方面的工具时，看到有人推荐R的package &lt;a href=http://cran.r-project.org/web/packages/FSelector/FSelector.pdf&gt;FSelector&lt;/a&gt; . 于是就载下来尝试一下，结果发现真的很方便。</p>

<h4 id="rbenchmarkiris">R可以方便的使用现成的benchmark（比如<code>iris</code>），只要一句话就可以轻松导入数据！</h4>

<p>下面是一个简单的例子使用FSelector, 采用cvs来寻找feature的子集。其中第一个参数Species~表示数据集iris中的类别(label).</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="r"><span class="line">library<span class="p">(</span>FSelector<span class="p">)</span>
</span><span class="line">data<span class="p">(</span>iris<span class="p">)</span>
</span><span class="line">subset <span class="o">&lt;-</span> cfs<span class="p">(</span>Species<span class="o">~</span>.<span class="p">,</span> iris<span class="p">)</span>
</span><span class="line">f <span class="o">&lt;-</span> as.simple.formula<span class="p">(</span>subset<span class="p">,</span> <span class="s">&quot;Species&quot;</span><span class="p">)</span>
</span><span class="line">print<span class="p">(</span>f<span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>下面这个例子比较高阶，可以自己指定评价feature子集的好坏。采用best first search的策略来寻找子集。其中evaluator训练了rpart model，通过计算error rate来评价feature的好坏。</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
</pre></td><td class="code"><pre><code class="r"><span class="line">library<span class="p">(</span>FSelector<span class="p">)</span>
</span><span class="line">library<span class="p">(</span>rpart<span class="p">)</span>
</span><span class="line">data<span class="p">(</span>iris<span class="p">)</span>
</span><span class="line">evaluator <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>subset<span class="p">)</span> <span class="p">{</span>
</span><span class="line">  <span class="c1">#k-fold cross validation</span>
</span><span class="line">  k <span class="o">&lt;-</span> <span class="m">5</span>
</span><span class="line">  splits <span class="o">&lt;-</span> runif<span class="p">(</span>nrow<span class="p">(</span>iris<span class="p">))</span>
</span><span class="line">  results <span class="o">=</span> sapply<span class="p">(</span><span class="m">1</span><span class="o">:</span>k<span class="p">,</span> <span class="kr">function</span><span class="p">(</span>i<span class="p">)</span> <span class="p">{</span>
</span><span class="line">    test.idx <span class="o">&lt;-</span> <span class="p">(</span>splits <span class="o">&gt;=</span> <span class="p">(</span>i <span class="o">-</span> <span class="m">1</span><span class="p">)</span> <span class="o">/</span> k<span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span>splits <span class="o">&lt;</span> i <span class="o">/</span> k<span class="p">)</span>
</span><span class="line">    train.idx <span class="o">&lt;-</span> <span class="o">!</span>test.idx
</span><span class="line">    test <span class="o">&lt;-</span> iris<span class="p">[</span>test.idx<span class="p">,</span> <span class="p">,</span> drop<span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span>
</span><span class="line">    train <span class="o">&lt;-</span> iris<span class="p">[</span>train.idx<span class="p">,</span> <span class="p">,</span> drop<span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span>
</span><span class="line">    tree <span class="o">&lt;-</span> rpart<span class="p">(</span>as.simple.formula<span class="p">(</span>subset<span class="p">,</span> <span class="s">&quot;Species&quot;</span><span class="p">),</span> train<span class="p">)</span>
</span><span class="line">    error.rate <span class="o">=</span> sum<span class="p">(</span>test<span class="o">$</span>Species <span class="o">!=</span> predict<span class="p">(</span>tree<span class="p">,</span> test<span class="p">,</span> type<span class="o">=</span><span class="s">&quot;c&quot;</span><span class="p">))</span> <span class="o">/</span> nrow<span class="p">(</span>test<span class="p">)</span>
</span><span class="line">    <span class="kr">return</span><span class="p">(</span><span class="m">1</span> <span class="o">-</span> error.rate<span class="p">)</span>
</span><span class="line">  <span class="p">})</span>
</span><span class="line">  <span class="c1">#print(subset)</span>
</span><span class="line">  <span class="c1">#print(mean(results))</span>
</span><span class="line">  <span class="kr">return</span><span class="p">(</span>mean<span class="p">(</span>results<span class="p">))</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line">subset <span class="o">&lt;-</span> best.first.search<span class="p">(</span>names<span class="p">(</span>iris<span class="p">)[</span><span class="m">-5</span><span class="p">],</span> evaluator<span class="p">)</span>
</span><span class="line">f <span class="o">&lt;-</span> as.simple.formula<span class="p">(</span>subset<span class="p">,</span> <span class="s">&quot;Species&quot;</span><span class="p">)</span>
</span><span class="line">print<span class="p">(</span>f<span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p>###iris
This famous (Fisher’s or Anderson’s) iris data set gives the measurements in centimeters of the variables sepal length and width and petal length and width, respectively, for 50 flowers from each of 3 species of iris. The species are Iris setosa, versicolor, and virginica.</p>

<h3 id="cfs">cfs</h3>
<p>The algorithm finds attribute subset using correlation and entropy measures for continous and discrete data.</p>

<h2 id="hints">Hints</h2>
<ul>
  <li>虽然原生的R语言的IDE也不错用，但是发现一个更加强大的IDE，RStudio, 真是可以媲美matlab的IDE了。</li>
  <li>R语言也可以在命令行中用batch的方式来运行，具体指令是<code>R CMD BATCH [options] infile [outfile]</code>, infile就是R的脚本文件，R的输出一般无法显示到STDOUT中，是以文件的形式存起来。如果没有指定outfile，就会以原文件名的方式来命名。在脚本执行的时候，很多无关紧要的内容也会被输出，可以使用options命令的<code>--slave</code>. 在最后的输出中，他也会很好心的帮你计算运行时间，如果不需要，也可以加<code>--no-timing</code>. 详见<a href="http://stat.ethz.ch/R-manual/R-devel/library/utils/html/BATCH.html">http://stat.ethz.ch/R-manual/R-devel/library/utils/html/BATCH.html</a></li>
</ul>

		
		
	</div>

</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/07/google-map/">
		
			在octopress中加入Google Map</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-10-07T02:21:00+08:00" pubdate data-updated="true">Oct 7<span>th</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/google/'>Google</a>, <a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/10/07/google-map/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<h3 id="google-mapapitt">需要科学上网才能正常显示Google Map(API被墙了T_T)</h3>

<p>想在octopress中插入地图信息，考虑到之后可能会在博客中加入关于游记的文章，如果文章能有形象的地图信息会有很好的效果。于是在网上搜寻octopress的地图插件，发现一个叫做<a herf="http://mguentner.github.io/octolayer/">Octolayer</a>的插件，想载下来试试，不过github刚好出问题，我无法获取代码，再加上他不是用google map. 作为一个google的忠实脑残粉，我就决定自己写一个。</p>

<p>研究了一下<a href="https://developers.google.com/maps/documentation/javascript/">google map API</a>，发现难度并不大。就是在我的文章内容中加入一个div，然后用js去render. 照着sample code改了一下代码，主要是为了从div的属性中读取经纬度坐标。（需要jQuery）</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>gmap.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
<span class="line-number">21</span>
<span class="line-number">22</span>
<span class="line-number">23</span>
<span class="line-number">24</span>
</pre></td><td class="code"><pre><code class="javascript"><span class="line"><span class="kd">function</span> <span class="nx">initialize</span><span class="p">()</span> <span class="p">{</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">lat</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#map-canvas&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">lng</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#map-canvas&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;lng&quot;</span><span class="p">);</span>
</span><span class="line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">lat</span><span class="p">);</span>
</span><span class="line">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">lng</span><span class="p">);</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">loc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">lat</span><span class="p">,</span><span class="nx">lng</span><span class="p">);</span>
</span><span class="line">  <span class="kd">var</span> <span class="nx">mapOptions</span> <span class="o">=</span> <span class="p">{</span>
</span><span class="line">    <span class="nx">zoom</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
</span><span class="line">    <span class="nx">center</span><span class="o">:</span> <span class="nx">loc</span><span class="p">,</span>
</span><span class="line">    <span class="nx">mapTypeId</span><span class="o">:</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">MapTypeId</span><span class="p">.</span><span class="nx">ROADMAP</span>
</span><span class="line">  <span class="p">};</span>
</span><span class="line">
</span><span class="line">  <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Map</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;map-canvas&#39;</span><span class="p">),</span>
</span><span class="line">      <span class="nx">mapOptions</span><span class="p">);</span>
</span><span class="line">
</span><span class="line">  <span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Marker</span><span class="p">({</span>
</span><span class="line">      <span class="nx">position</span><span class="o">:</span> <span class="nx">loc</span><span class="p">,</span>
</span><span class="line">      <span class="nx">map</span><span class="o">:</span> <span class="nx">map</span><span class="p">,</span>
</span><span class="line">      <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Hello World!&#39;</span>
</span><span class="line">  <span class="p">});</span>
</span><span class="line">
</span><span class="line"><span class="p">}</span>
</span><span class="line">
</span><span class="line"><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">addDomListener</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="nx">initialize</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

		
		<a href="/blog/2013/10/07/google-map/" class="more-link">More</a>
	</div>

</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/04/go-to-tibet/">
		
			进藏前传</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-10-04T16:31:00+08:00" pubdate data-updated="true">Oct 4<span>th</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/tibet/'>Tibet</a>, <a class='category' href='/blog/categories/travel/'>Travel</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/10/04/go-to-tibet/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<p>最近看了一些书，都是和西藏旅行相关的，身边也有认识的人去西藏旅行。文青们都认为去西藏可以净化自己的心灵，近距离接近天堂。作为一个伪文青的我，自然也要跟随着众多文青的后尘。去西藏的愿望也在心底埋下了一颗种子。</p>

<p>但是毕竟西藏不是一般的地方，除了高原反应和大太阳之外，路途遥远，沿路也不免遇到土匪野兽之类的东西，所以计划必须周全，于是我从现在开始收集进藏的必备知识，待这些知识成熟之后，再亲自赴藏，到时候也许会和小伙伴一起，也许会和妹子同行，也许就我一个人。此文会不断补充，希望广大网友们多多给些意见。</p>


		
		<a href="/blog/2013/10/04/go-to-tibet/" class="more-link">More</a>
	</div>

</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/03/fu-za-de-gan-qing/">
		
			复杂的感情</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-10-03T23:00:00+08:00" pubdate data-updated="true">Oct 3<span>rd</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/sui-xin-suo-xiang/'>隨心所想</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/10/03/fu-za-de-gan-qing/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<p>前幾天被女神拒絕后，心情一直很糟，特別的失落。一直很想用一些文字來發洩一下心中的雜亂，可是卻找不到任何有力的文字。混亂的思想無法用自己幼稚的文字表達出來。不過漸漸的，我似乎明白了一些什麼道理，理解了她的想法。</p>

<p>像我這種一廂情願的人肯定有很多，自己喜歡的人，卻不一定喜歡自己。自己拿對方當做愛人，對方卻把自己當做普通朋友。自己追求很久的人，她也許也在追求其他的人。對方並沒有把你當做戀人，而只是普通朋友，所以和對方說話一定要很小心，一旦尺度過大，就會導致尷尬。經歷過多次后，自己心裡大概也有數，對方可能對自己沒感覺，但自己也不敢捅破那層窗戶紙，因為害怕被拒絕。寧可過著這樣小心翼翼的生活，將對方假想成自己的戀人，也不願意將話挑明，導致大家不歡而散。然而感情是複雜的，我還無法用某種邏輯思維去控制它，因此談話的內容難免有時會觸碰到對方的底線。終於在我出口問她之前，她主動捅破了窗戶紙。心中長久以來的擔憂卻已成真。</p>

<p>說到底，就是沒有互相吸引。我們這種不到30歲的年輕人，對於近期成家或許並沒有太大的執念，所以并不期望湊合著過，還是對一場轟轟烈烈的愛情充滿了期待。在尋找到生命中真正的伴侶之前，總是寧願不停的尋找，也不肯停下來看看自己的周圍。有些人會用很多標準去評判自己的追求者，一旦有某個條件沒有符合，就立即拉黑，如果條件符合就欣然接受；有些人卻比較感性，只要感覺對了就好，感覺不對對方再努力也是白搭。同樣兩個只憑感覺的人湊在一起，往往就無法在一起，因為兩者都對對方有感覺的概率，要遠遠小於兩者都滿足對方要求的概率。因為感情是個複雜的東西，也許感覺就在一瞬間不見了，也許感覺在一瞬間就產生了；而外在的條件是不容易變化的。也許同樣星座的人會有同樣的喜好，也許兩個人星座相同，都同樣相信感覺而不是理性的條件。這也許是相同星座比較難在一起的原因了。</p>

<p>我們在deadline來臨之前都是期望生活是豐富的，只有在deadline迫在眉睫的時候，才會用理性高效的方法去應對deadline. 有些人會選擇替代方案去解決這個問題；有些人卻喜歡寧缺毋濫。我不排斥前者，但我更加尊重後者，雖然他們浪費了追求者的一片用心，但卻保持了感情的純潔。也許我還太幼稚，對於感情的問題太理想化。但是一個沒有完全吸引自己的人，你是無法付出所有去愛這個人的。</p>

		
		
	</div>

</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/02/add-404-page/">
		
			添加404页面</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-10-02T23:48:00+08:00" pubdate data-updated="true">Oct 2<span>nd</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/octopress/'>Octopress</a>, <a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/10/02/add-404-page/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<p>今天给博客加了404页面，看起来感觉更加完整了一点。
加404页面的方法很简单，只要在<code>source</code>目录下面创建<code>404.html</code>文件，当发生404错误时，octopress就会自动跳转到<code>404.html</code>这个页面。
具体内容如下：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class=""><span class="line">---
</span><span class="line">layout: page
</span><span class="line">title: Sorry，404错误！你要访问的网页不存在!
</span><span class="line">footer: false
</span><span class="line">---</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>其中的<code>title</code>可以改成任何自己想要的内容。</p>

		
		
	</div>

</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/01/cong-wordpressdao-octopressqian-yi-cheng-gong/">
		
			从wordpress到octopress迁移成功</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-10-01T23:49:00+08:00" pubdate data-updated="true">Oct 1<span>st</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/octopress/'>Octopress</a>, <a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/10/01/cong-wordpressdao-octopressqian-yi-cheng-gong/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<p>忙活了一晚上，终于把原来wordpress的数据导入到了octopress中，心情不好的时候做些geek的事情转移一下注意力也不错，现在有点小开心。</p>

<p>我是参照下面这个链接介绍的方法，把原来wordpress的数据导出成xml文件，然后再用jekyll-import来转的。不过貌似转完之后还需要自己手动修改一些地方，比如代码高亮部分。幸好我之前的内容也不多，就小改了一下。</p>

<p><a href="http://jekyllrb.com/docs/migrations/">http://jekyllrb.com/docs/migrations/</a></p>

<p>不过目前还有个问题，从wordpress转过来的文章，在超链接上还是有点问题，如果标题中有中文，转完后的文件名是unicode编码，之后会找不到超链接。于是我手动把那些文件名改成了英文，幸好文章不多，大概改了半小时改完了。</p>

<p>接下来要了解markdown语法啦，用这个写博客真的很酷！</p>

		
		
	</div>

</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/01/change-to-octopress/">
		
			改版octopress 之 安装</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-10-01T00:00:00+08:00" pubdate data-updated="true">Oct 1<span>st</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/octopress/'>Octopress</a>, <a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/10/01/change-to-octopress/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<p>心血来潮想把博客从wordpress改成octopress, 毕竟在heroku上想用wordpress上传照片不太方便，而且比起静态网页来，速度慢很多。</p>

<p>但是我之前没有碰过ruby，一步一步按照网上的guide慢慢来。</p>

<p>首先从git上抓来octopress</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">git clone git@github.com:imathis/octopress.git</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>然后进入octopress目录下，build源代码</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
</pre></td><td class="code"><pre><code class=""><span class="line">cd octopress
</span><span class="line">bundle install
</span><span class="line">rake install</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>以上几步都没有问题，然后执行</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">rake preview</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>然后问题就来了，出现了错误</p>

<p>Starting to watch source with Jekyll and Compass. Starting Rack on port 4000
rake aborted!
undefined method `spawn’ for Process:Module</p>

<p>因为octopress需要ruby 1.9.3，而我原本mac上的ruby是1.8.3. 所以要把ruby更新到1.9.3才能用</p>

<p>网上看了一遍后，用RVM可以很好的管理ruby的版本，可以方便的在多个ruby版本中进行切换，还能很方便的安装新版的ruby.</p>

<p>我安装stable版本的rvm</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">curl -L https://get.rvm.io | bash -s stable</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>然后将rvm写到用户环境中。</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">echo "source $HOME/.rvm/scripts/rvm" &gt;&gt; ~/.bash_profile</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>具体详见 <a href="https://rvm.io/rvm/install">https://rvm.io/rvm/install</a></p>

<p>然后使用rvm来安装1.9.3版本的ruby.</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">rvm install ruby-1.9.3-p448</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>不过在这之前，要先确定安装了xcode的command line tools.</p>

<p>可能因为国内网络的原因，这个安装过程相当的漫长，我觉得应该先去吃个午饭比较好。。。</p>

		
		
	</div>

</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/09/25/hive-python-udf/">
		
			HIVE中使用python实现UDF</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-09-25T00:00:00+08:00" pubdate data-updated="true">Sep 25<span>th</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/hive/'>Hive</a>, <a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/09/25/hive-python-udf/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<p>HIVE，FACEBOOK的一个开源项目，利用类SQL的语句（HiveQL）来加快一般的MapReduce的开发过程。</p>

<p>UDF，user defined function, 因为HIVE毕竟不是一般的关系型数据库，支持的HQL有限，如果要实现复杂的功能，就要通过自己定义函数来帮助实现。</p>

<p>HIVE应该利用PIPE的原理，将自己查询的结果放到python脚本的stdin中。所以他的查询结果不会显示在terminal中，terminal中显示的结果是python的执行结果。</p>

<p>使用HIVE的命令进入数据仓库(search)</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">use search;</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>使用HIVE的命令查看已经建立的表</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">show tables;</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>使用HIVE的命令查看xxx表中的字段</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class=""><span class="line">describe xxx;</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>使用HIVE命令用PYTHON实现UDF</p>

<div class="bogus-wrapper"><notextile><figure class="code"><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class=""><span class="line">add file udf.py;
</span><span class="line">SELECT 
</span><span class="line">TRANSFORM(keyword)
</span><span class="line">USING 'python udf.py'
</span><span class="line">AS(keyword)
</span><span class="line">FROM xxx
</span><span class="line">WHERE dt='2013-09-25'
</span><span class="line">;</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>要注意的是，这里的TRANSFORM的内容可以写*，但是AS()里就不能写*，会报错。</p>

<p>输入到python中的内容，是按照AS里的数量来决定的。</p>

<p>下面是python的脚本，内容很简单，就是把输入的东西原封不动输出来。</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span>udf.py</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="python"><span class="line"><span class="kn">import</span> <span class="nn">sys</span>
</span><span class="line"><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
</span><span class="line">    <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span class="line">    <span class="k">print</span> <span class="n">line</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

		
		
	</div>

</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/09/19/looking-for-my-life/">
		
			寻找自己的生活</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-09-19T00:00:00+08:00" pubdate data-updated="true">Sep 19<span>th</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/sui-xin-suo-xiang/'>隨心所想</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/09/19/looking-for-my-life/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<p>转眼间，从台湾回来已经半个多月了。回来之后也忙了不少事情，最大一件事应该是找了一份不错的工作，了去一桩心事。不过其他的心事也接踵而来，比如找房子，找对象等。。。</p>

<p>感觉在毕业之后的两个礼拜内就能找到一份工作，算是相当的神速。不过也有很多客观原因，使得我不得不当机立断，没有太多的“货比三家”的时间。老爸似乎对我这个选择也没有非常满意，在他看来进到一个大家公认的大公司要比呆在一个小公司里做些核心的事情要有意义的多。但是在我看来，我并没有因为进不了这些大公司而感到过分沮丧，我是一个善于自我治愈的人，一开始虽然是有点放不下大公司offer的诱惑，不过在我签下这个到手的offer之后，自我治愈的过程就开始了。能够在一个核心部门发挥自己的价值，能够直接提高产品的效能，能够马上和这家公司的牛人们一起工作，使我对这个工作的兴奋感越来越强。没过多久，我已经把自己的心情恢复到了平衡点上。</p>

<p>现在很多事情都已经一步一步确定，接下来的就是上班工作的节奏了。这几天比较关心的问题就是下班之后干什么？我估摸着自己现在肯定不是一个工作狂，在下班之后希望能及时行乐。那我可以干些什么事呢？然后我发现我一直以来都有的一个问题，就是专注力不够集中，做事很容易分心。不过在deadline的驱使下，我的专注力还是很强的。于是我决定开始看书，一方面补充自己贫乏的人文知识，一方面锻炼自己的专注力。第三方面，也是为了能和喜欢看书的人有些共同语言。这几天看的几本书感觉都不错，曾经的伪文青终于得到了真正的文化知识的滋润了。</p>

<p>对于即将工作的我来说，接下来的日子还很长，还有很多路要走。在生活中有很多东西想要去追逐，希望这些追逐的东西不要在未来的某一天，被证明是可有可无的。希望能找到我自己真正喜欢的生活方式。</p>

<p> </p>

		
		
	</div>

</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/08/29/last-days-in-taiwan/">
		
			在島上的最後幾天</a>
	</h2>
	<div class="eli-post-meta">
		<div class="date"><span class="glyphicon eli-meta-icon glyphicon-calendar"></span>








  


<time datetime="2013-08-29T00:00:00+08:00" pubdate data-updated="true">Aug 29<span>th</span>, 2013</time></div>
		<div class="tags"><span class="glyphicon eli-meta-icon glyphicon-tags"></span>


	<a class='category' href='/blog/categories/sui-xin-suo-xiang/'>隨心所想</a>


</div>
		<div class="comments"><span class="glyphicon eli-meta-icon glyphicon-comment"></span><a href="/blog/2013/08/29/last-days-in-taiwan/#disqus_thread">Comments</a></div>
	</div>
	<div class="entry-content">
		<p>兩年前的今天，我忙著收拾行李，忙著和朋友吃飯告別，準備著來台灣的一切。對台灣的了解也只是林志玲和聯發科。</p>

<p>經過了兩年的生活，雖然不能肯定說自己對台灣有多了解，但肯定是被台灣深深的吸引了。</p>

<p><span style="line-height: 1.714285714; font-size: 1rem;">我喜歡藍色，因為天空是藍色，大海是藍色，深處廣闊的藍色中，有一種獨特的滿足感。</span></p>

<p><span style="line-height: 1.714285714; font-size: 1rem;">在台灣，我看到了最美的藍色，小時候作文中藍藍的天空，白白的雲朵，終於在這裡讓我領略到它們的美。</span></p>

<p><img class="alignnone" alt="" src="http://farm8.staticflickr.com/7399/9614610447_96d627a476.jpg" width="500" height="333" /></p>

<p>以前在大陸時，我不經常去海邊，偶爾幾次去海邊，看到的大海和我心目中的大海還是有很大差距。在這裡，我看到了比我心目中更美的大海。</p>

<p><img class="alignnone" alt="" src="http://farm3.staticflickr.com/2813/9617841176_5de61743b0.jpg" width="500" height="333" /></p>

<p><span style="line-height: 1.714285714; font-size: 1rem;">在如此美麗的沙灘上，似乎任何煩惱都會暫時的忘記。</span></p>

<p>台灣吸引我的，除了看不完的美景，還有忘不了的人情。</p>

<p>初來台灣，令我最想不到的是台北的建築。這裡的建築和大陸的高大，浮華不同，它們沒有艷麗的外表，卻深深的流露出溫馨的感覺。走在學校附近的窄小的巷子，兩邊的房子看似都有20多年的房齡，卻還是這麼生機盎然的感覺，房子與房子之間挨的很近，如同親密的老朋友，互相幫助，互相扶持。</p>

<p><img class="alignnone" alt="" src="http://farm3.staticflickr.com/2876/9614592679_b48a78d9a3.jpg" width="500" height="333" /></p>

<p>房子和房子之間都如此親密無間，人和人之間更是如此。在台灣特別能感受到人情味，路人之間的一絲微笑，言語上的一聲謝謝，人與人之間的信任感，都會令我感到身邊的都是家人。</p>

<p>前幾天和實驗室的同學一起開車環島，在即將離開的時候，能再次體會台灣的美。曾經以為來台灣只是為了學業，匆匆的度過兩年，什麼都不留下，什麼都不帶走。沒想到在這兩年中，能認識這麼多朋友，留下那麼多的友情。有過悲傷，有過歡樂。在心情最低落的時候，有朋友陪我一起喝酒；在壓力山大的時候，有朋友一起肩並肩一起度過。這兩年記錄了人生中豐富的內容，我變得比以前成熟了。</p>

<p><img class="alignnone" alt="" src="http://farm4.staticflickr.com/3700/9618201436_28c61c7ea5_c.jpg" width="534" height="800" /></p>

<p>兩年后的我們不知身在何處，做著未知的事情。但願一切都若初見。</p>

<p>好基友，一輩子。</p>

<p> </p>

		
		
	</div>

</article>

<ul class="pager">

        <li class="previous"><a href="/blog/page/2/">&larr; Newer</a></li>
    
    
        <li class="next"><a href="/blog/page/4/" >Older &rarr; </a></li>
    
</ul>

	</div>
</div>
</div>
<footer id="footer">
	<div class="container"><p>
  Copyright &copy; 2014 - Eli -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p></div>
</footer>
<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'blog-jfttt';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-42052957-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>