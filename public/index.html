
<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
	<title>醉過方知酒濃</title>
	<meta name="author" content="Eli">

	
	<meta name="description" content="刚想写些东西，正在播的音乐刚好跳出五月天的《回来吧》，这真的是个巧合。 回来吧，难道你不怀念吗。。。 回来吧，我还一直在等啊。。。 我来自一个小城市，现在为了自己一点点的事业心，在大城市尝试着自己并不强大的生存能力。坦白说我为什么一定要在这个城市工作，我自己也找不出一个能说服自己的理由。为了事业 &hellip;">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="/atom.xml" rel="alternate" title="醉過方知酒濃" type="application/atom+xml">
	<link rel="canonical" href="">
	<link href="/favicon.png" rel="shortcut icon">
	<link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="/stylesheets/gmap.css" rel="stylesheet" type="text/css">
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
	<script async="true" src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
	<script src="/javascripts/gmap.js"></script>
	
</head>


<body>
	<header id="header" class="inner"><h1><a href="/">醉過方知酒濃</a></h1>
<nav id="main-nav"><ul class="main">
	<li><a href="/">Home</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/research">Research</a></li>
	<li><a href="/about">About Me</a></li>
	<li><a href="/links">Links</a></li>
</ul>
</nav>
<nav id="mobile-nav">
	<div class="alignleft menu">
		<a class="button">Menu</a>
		<div class="container"><ul class="main">
	<li><a href="/">Home</a></li>
	<li><a href="/blog/archives">Archives</a></li>
	<li><a href="/research">Research</a></li>
	<li><a href="/about">About Me</a></li>
	<li><a href="/links">Links</a></li>
</ul>
</div>
	</div>
	<div class="alignright search">
		<a class="button"></a>
		<div class="container">
			<form action="http://google.com/search" method="get">
				<input type="text" name="q" results="0">
				<input type="hidden" name="q" value="site:yoursite.com">
			</form>
		</div>
	</div>
</nav>
<nav id="sub-nav" class="alignright">
	<div class="social">
		
		
		
		
    
		
		
		
		
		
		<a class="rss" href="/atom.xml" title="RSS">RSS</a>
		
    
	</div>
	<form class="search" action="http://google.com/search" method="get">
		<input class="alignright" type="text" name="q" results="0">
		<input type="hidden" name="q" value="site:yoursite.com">
	</form>
</nav>

</header>
	
		
	
	<div id="content" class="inner">


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/11/18/homeless/">
		
			归属感</a>
	</h2>
	<div class="entry-content">
		<p>刚想写些东西，正在播的音乐刚好跳出五月天的《回来吧》，这真的是个巧合。</p>

<blockquote><p>回来吧，难道你不怀念吗。。。</p>

<p>回来吧，我还一直在等啊。。。</p></blockquote>

<p>我来自一个小城市，现在为了自己一点点的事业心，在大城市尝试着自己并不强大的生存能力。坦白说我为什么一定要在这个城市工作，我自己也找不出一个能说服自己的理由。为了事业？为了女人？为了朋友？还是离家比较近？</p>

<p>不少身边的人也问我为什么回国工作，为什么不去美国，为什么不继续读学位？其实我是一个特别不想寂寞的人，刚开始工作那个月，一下班就不知道干什么，整个人就空了。同事都跟我说再见，然后各自回家。幸好我在这里也有些朋友，偶尔也可以找他们吃吃饭，聊聊天。可是吃完饭，聊完天，回到租的“家”，又是一个人。不去美国，不去其他城市，而是回到经历过大学四年的地方，就是幻想着能够把“韩国的故事”继续，能够在这里有更多的朋友作伴。因为我熟悉这里，可是熟悉一个地方，并不代表就有归属感。</p>

<p>在台湾两年，却没体会过太多的寂寞，这也多亏我能遇到志趣相投的好基友。当心情低落时，总能有人陪你喝酒，一直喝到天亮，喝到大家都醉了，然后互相搀扶着回去，醉到回房间连门都不关直接倒在床上睡。那时候不怕心里郁闷，因为总有人会跳出来一起解闷。做任何外人看着很疯狂的事，都会有人陪你，支持你。比如一次叫了20多个并不太熟，有些甚至都叫不出名字的妹子来一起烤肉；超过30多个小时不睡觉一起从高雄开车到垦丁沙滩跨年，睡同一个帐篷。</p>

<p><b>感谢科科，坤坤，承恩。</b></p>

<p>一个人的生活也可以改变以往的习性，时间久了，我竟然开始看书了。以前只把书当装饰品的我，竟然开始看书了；几年前的我，还是一个没心没肺没有心里情感的人，现在心里的想法多的都藏不住，只好用文字写在博客上来宣泄。</p>

<p><b>喝掉一罐啤酒继续，现在正在播的音乐换成了&#8221;Wake me up when september ends&#8221;，这音乐竟然也懂我的心情</b></p>

<p>也许年轻时总是喜欢跟自己过不去，明明对方对你没感觉，却一再认为这是一种考验。也许这就叫做“年少轻狂”吗？既然自己无法分辨是真的“没感觉”，还是一种“考验”，那就当时一种考验吧。</p>

<p><b>好吧，我真的服了itunes了，现在正在播《独处的时候》，晚安</b></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-11-18T00:12:00+08:00" pubdate data-updated="true">Nov 18<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/sui-xin-suo-xiang/'>隨心所想</a>


</div>
	
	<div class="comments"><a href="/blog/2013/11/18/homeless/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/11/16/show-git-branch-name/">
		
			在Terminal中显示git的当前branch</a>
	</h2>
	<div class="entry-content">
		<p>不知道有没有人和我有同样的困扰，在使用git的时候不小心改到了master分支上的代码，然后还不小心push了，结果还成功push了，而且自己还没发觉是push到了master上。如果代码正确还好，一旦代码有些问题就会引来很大麻烦。</p>

<p><img src="/images/blog/show-git-branch-name.png"></p>

<p>mac的terminal上并没有自带功能显示当前的分支，所以需要自己手动修改bash的显示方式。如图上所示，新建一个<code>qrl</code>的目录，初始化<code>git</code>，当<code>commit</code>之后会产生<code>.git</code>的目录，从<code>.git</code>中获取当前的分支名字。</p>

<p>实现起来比较容易，在.bash_profile中加入下面的代码就可以了。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>parse_git_branch<span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    git branch 2&gt; /dev/null | sed -e <span class="s1">&#39;/^[^*]/d&#39;</span> -e <span class="s1">&#39;s/* \(.*\)/ [\1]/&#39;</span>
</span><span class='line'><span class="o">}</span>
</span><span class='line'><span class="nb">export </span><span class="nv">PS1</span><span class="o">=</span><span class="s2">&quot;\u@\h \W\[\033[32m\]\$(parse_git_branch)\[\033[00m\] $ &quot;</span>
</span></code></pre></td></tr></table></div></figure>


<p>对于PS1的参数可以参考下面的来写</p>

<blockquote><p>\d ：代表日期</p>

<p>\H ：完整的主机名称</p>

<p>\h ：仅取主机的第一个名字</p>

<p>\t ：显示时间为24小时格式，如：HH：MM：SS</p>

<p>\T ：显示时间为12小时格式</p>

<p>\A ：显示时间为24小时格式：HH：MM</p>

<p>\u ：当前用户的账号名称</p>

<p>\v ：BASH的版本信息</p>

<p>\w ：完整的工作目录名称。家目录会以 ~代替</p>

<p>\W ：利用basename取得工作目录名称，所以只会列出最后一个目录</p>

<p>\# ：下达的第几个命令</p>

<p>\$ ：提示字符，如果是root时，提示符为：# ，普通用户则为：$</p></blockquote>

<h3>参考</h3>

<p><a href="http://martinfitzpatrick.name/article/add-git-branch-name-to-terminal-prompt-mac">http://martinfitzpatrick.name/article/add-git-branch-name-to-terminal-prompt-mac</a>
<a href="http://blog.sina.com.cn/s/blog_610913ea0100fce1.html">http://blog.sina.com.cn/s/blog_610913ea0100fce1.html</a></p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-11-16T01:05:00+08:00" pubdate data-updated="true">Nov 16<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
	
	<div class="comments"><a href="/blog/2013/11/16/show-git-branch-name/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/11/13/sublime-text2-tutorial/">
		
			Sublime Text 备忘</a>
	</h2>
	<div class="entry-content">
		<p>Sublime Text 是个很不错的文本编辑工具，已经使用1年多了。这里整理一些关于Sublime的使用方法，防止以后忘记。</p>

<h2>在线安装Package</h2>

<h3>安装Package Control</h3>

<ul>
<li>用 Ctrl+` 打开Console</li>
<li>在console中加入下面这段脚本</li>
</ul>


<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">urllib2</span><span class="o">,</span><span class="nn">os</span><span class="p">;</span><span class="n">pf</span><span class="o">=</span><span class="s">&#39;Package Control.sublime-package&#39;</span><span class="p">;</span><span class="n">ipp</span><span class="o">=</span><span class="n">sublime</span><span class="o">.</span><span class="n">installed_packages_path</span><span class="p">();</span><span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">ipp</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">ipp</span><span class="p">)</span> <span class="k">else</span> <span class="bp">None</span><span class="p">;</span><span class="nb">open</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">ipp</span><span class="p">,</span><span class="n">pf</span><span class="p">),</span><span class="s">&#39;wb&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">urllib2</span><span class="o">.</span><span class="n">urlopen</span><span class="p">(</span><span class="s">&#39;http://sublime.wbond.net/&#39;</span><span class="o">+</span><span class="n">pf</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s">&#39; &#39;</span><span class="p">,</span><span class="s">&#39;%20&#39;</span><span class="p">))</span><span class="o">.</span><span class="n">read</span><span class="p">())</span>
</span></code></pre></td></tr></table></div></figure>


<ul>
<li>重新打开sublime</li>
</ul>


<h3>用Package Control安装插件</h3>

<ul>
<li><code>Command+Shift+p</code>打开命令面板(如果非mac就用<code>Ctrl</code>代替<code>Command</code>)</li>
<li>输入<code>install</code>打开Install Package</li>
<li>选择需要的插件安装</li>
</ul>


<h3>添加Repository</h3>

<p>想要使用更多的插件，可以自行添加网上的repository，比如github.</p>

<ul>
<li><code>Command+Shift+p</code>打开命令面板</li>
<li>选择<code>package Control:Add Repository</code></li>
<li>然后在底下的Repository URL中填入github地址，比如<a href="https://github.com/freewizard/SublimeFormatSQL">https://github.com/freewizard/SublimeFormatSQL</a></li>
<li>最后再选择<code>install package</code>来安装插件</li>
</ul>


<h3>常用插件</h3>

<ul>
<li>SublimeFormatSQL <a href="https://github.com/freewizard/SublimeFormatSQL">https://github.com/freewizard/SublimeFormatSQL</a></li>
</ul>


<h3>备注</h3>

<ul>
<li>SublimeFormatSQL的最新版对Sublime Text 2的兼容性有点问题，我用朋友给的旧版本就可以了。具体issue参见<a href="https://github.com/freewizard/SublimeFormatSQL/issues/14">https://github.com/freewizard/SublimeFormatSQL/issues/14</a></li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-11-13T11:33:00+08:00" pubdate data-updated="true">Nov 13<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
	
	<div class="comments"><a href="/blog/2013/11/13/sublime-text2-tutorial/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/11/08/in-japan-1/">
		
			在日本——列車上的妹子</a>
	</h2>
	<div class="entry-content">
		<p><img src="http://maps.googleapis.com/maps/api/staticmap?size=640x400&maptype=roadmap&markers=size:large%7Ccolor:blue%7C河口湖%7C&zoom=10&sensor=false" /></p>

<p>去河口湖，從橫濱站搭電車，需要換乘4趟列車，总共需要3个多小时。從橫濱到Hachioji就要坐1個多小時，原本以為會在車上無聊的度過，沒想到注意力就被一個戴口罩的妹子吸引走了。</p>

<p>她沒有塗很濃的妝，甚至還能看到額頭的痘痘，这与之前见到的日本妹子不同，大多数人都是化了很精致的妆。我為了不讓自己的視線一直聚焦在她身上而引起尷尬，拿出kindle繼續看書。大概過了幾分鐘，終於她對面的座位空了出來，可以有機會從正面觀察她。我一直想拿出手機拍下這激動的瞬間，可是想到這對她是種不尊重，就不停說服自己不要這樣做。</p>

<p>她一開始是在看手機，後來從包包中拿出一本書和一本記事本，書名是日文写的，其中几个汉字是“實用”，“中级”，“中國話”。竟然是在學中文，我腦海中立刻浮現出各種上前搭訕的情景——“口你几哇”，“你好，你是在学中文吗”，真想把昨天凌晨自己从新宿走回酒店的事情告诉她。可是这些僅僅是停留在腦子裡，天生不擅和女生講話的缺陷再次暴露了。於是我還是默默的看書，她也是默默的看書。其間有幾次目光的交匯，隱約的感到她貌似也想開口講話，也是因為害羞吧。</p>

<p>车外还在下雨，窗户上起了雾，也看不清外面的画面，目光还是主要集中在她身上。终于，她翻完了笔记本，把书和记事本塞回包包里，开始眯起眼睛来小睡。不知道她会坐到哪一站，不知道她会不会也是去河口湖，不知道她她是否注意到對面有個屌絲一直在YY她。沒過多久，車再次進站，這次她起身，整了整衣服，下車了。這麼多次旅行中看到的人都是這樣，事先不知是否和她相遇，事後不知何時與她分別。</p>


		
		<a href="/blog/2013/11/08/in-japan-1/" class="more-link">More</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-11-08T00:20:00+08:00" pubdate data-updated="true">Nov 8<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/travel/'>Travel</a>


</div>
	
	<div class="comments"><a href="/blog/2013/11/08/in-japan-1/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/11/01/udf-in-python-sucks/">
		
			在hive中使用python来做UDF有点糟</a>
	</h2>
	<div class="entry-content">
		<p>之前写了篇介绍如何在HIVE中用python来写UDF的文字，最近终于也开始需要用UDF来处理一些数据了。</p>

<p>可是现实和理想总是存在些差距，原本想着python简洁的代码和随改随用的特性，在UDF的灵活性上显得有点苍白无力。利用<code>TRANSFORM</code>, <code>USING</code>, <code>AS</code>的结构来把python的脚本当做UDF，虽然看起来非常方便，但实际用起来却有很大问题。</p>

<h2>无法单独处理某个字段</h2>

<p>没有仔细研究过这个具体的流程，不过猜想应该是从hive中select出来的数据以pipe的形式转到python的stdin中，再把python中的stdout的内容转到hive的输出中。这样如果仅需对选出的某个字段进行处理，其余字段不进行处理的话，必须在Python脚本中注意当前要处理的字段是第几个，一旦select中的顺序有所改变，那python脚本应该就无法处理了。目前仅选一个字段出来进行处理的情况比较少，大部分都是选出好几个字段来看。所以虽然python很好，不过我还是“十动然拒”了吧。</p>

<h2>无法外加聚集函数</h2>

<p>在使用中，下面这种格式是很死的。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="k">TRANSFORM</span><span class="p">(</span><span class="n">field_A</span><span class="p">,</span> <span class="n">field_B</span><span class="p">)</span> <span class="k">USING</span> <span class="s1">&#39;python foo.py&#39;</span> <span class="k">AS</span><span class="p">(</span><span class="n">field_AA</span><span class="p">,</span> <span class="n">field_BB</span><span class="p">)</span> <span class="k">FROM</span> <span class="p">...</span>
</span></code></pre></td></tr></table></div></figure>


<p>比如你想再对UDF外面加一层<code>Count</code>是没有办法实现的。某人会告诉你格式不对，无法运行。但是常规的用java写的UDF是没有问题的，全部都能hold住~</p>

<h2>外加的吐槽</h2>

<p>实际工作中，不仅仅需要<code>UDF</code>，<code>UDAF</code>和<code>UDTF</code>都是会经常遇到的。而Python拼死只能处理UDF的情况，对于后者只能呵呵了。于是反正UDAF和UDTF还是需要JAVA来写，那UDF也就顺便用JAVA写了吧。这样代码也统一一点，便于管理。</p>

<p>所以虽然python在UDF上的效果可以实现，不过功能太过简单，实际环境下还是很无力的。接下来还是用JAVA写<code>UDF</code>,<code>UDAF</code>和<code>UDTF</code>吧。回头吧，少年~</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-11-01T23:57:00+08:00" pubdate data-updated="true">Nov 1<span>st</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
	
	<div class="comments"><a href="/blog/2013/11/01/udf-in-python-sucks/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/24/first-love/">
		
			人生若只如初见</a>
	</h2>
	<div class="entry-content">
		<blockquote><p>人生若只如初見
何事秋風悲畫扇</p>

<p>等閒變卻故人心
卻道故心人易變</p></blockquote>

<p>兩人相見，並沒有絲毫的躲閃，言語之間還是如同往常。真的像是认识很久的老友，我了解她，她也了解我。交谈时毫不顾忌，于是，她還是那麼欢快中带点豪爽，我還是那樣幽默中带点木讷。</p>

<p>从热恋到分手，是否就是一个从有很多话想讲，到把能讲的话都讲完的一个过程？双方发现没话讲了，于是一方说分手，另一方默认。但开始恋爱的原因，不就是觉得我们有永远讲不完的话题，永远用不完的欢笑吗？为什么当恋人非得有话要讲，聊得越多就表明爱的越多吗？在交往过程中，双方都有责任和义务和对方讲话，一旦讲不出话，沉没时，就会导致冷战的开始，觉得缘分已尽了吧，或者觉得对方变心了。反而是成了朋友之后，卸下了这份责任和义务，想讲的时候就讲，不讲也不会有人责怪。没有了压力，自然聊得轻松。</p>

<p>爱情真的能转化成友情，还是旧情人相见时互相客套的热情？双方尽量表现的不在乎，好像在说，“看吧，没有你我照样过得很好”。我只是单纯的想对她好，因为以前我对其他女生好，她会生气，现在我对她好，至少还没有人会生我的气吧。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-24T22:11:00+08:00" pubdate data-updated="true">Oct 24<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/sui-xin-suo-xiang/'>隨心所想</a>


</div>
	
	<div class="comments"><a href="/blog/2013/10/24/first-love/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/18/travel-to-xiamen/">
		
			终于来到了厦门</a>
	</h2>
	<div class="entry-content">
		<p>以前一直想去厦门，可是都没有机会，没有成行。后来就去了台湾。
现在从台湾回来，没想到工作还不到一个月就有机会和同事们一起去厦门旅游。我们搭某廉价航空的飞机，旅途算是有点艰辛——除了飞机晚点一个多小时不说，整趟飞行中不能把座椅后背倒下来，结果坐的脖子都僵硬了T_T</p>

<p>好在最后还是安全降落在厦门机场，来到近期被爆数据库的某家快捷酒店。到酒店已经11点半了，稍微整理了一下出来到附近的宵夜摊，在一家卖沙茶面的店里坐下了。虽然说离开台湾还不到2个月，不过现在身处一海峡之隔的厦门，真的对台湾有了一点想念。于是点了一个在台湾常吃的蚵仔煎(ou a jian)，和没有吃过的沙茶面。结果蚵仔煎和我想的差距有点大，看来隔了一条海峡，蚵仔煎出现了变种。可怕的是，价格竟然还要高于台湾的。。。</p>

<h2>Tips</h2>

<p>除了物价过高之外，小贩的人品也很低。特别是买水果，基本上所有的小贩秤都偏重，大家在买水果之前，先要把手机放在秤上看看秤的准度。太离谱的就马上走人。如果在晚上，要当心小贩给你偷梁换柱。我们一行人在鹭江道的<b>台湾小吃街</b>门口买了水果，没想到小贩给我们秤完重量后，偷偷的换了另外一袋给我们，幸好我们人多，立刻把她识破了。然后她从一开始的客气的给我们试吃水果，立刻变的很凶的大声叫嚷。</p>


		
		<a href="/blog/2013/10/18/travel-to-xiamen/" class="more-link">More</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-18T01:32:00+08:00" pubdate data-updated="true">Oct 18<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/travel/'>Travel</a>


</div>
	
	<div class="comments"><a href="/blog/2013/10/18/travel-to-xiamen/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/16/try-networkx/">
		
			试用networkx</a>
	</h2>
	<div class="entry-content">
		<p>最近想用pagerank的方法来分析微博好友之间的权威关系，于是试着用crawler去抓微博上好友的信息，然后建立关系网络。在网上看到用networkx可以比较方便的建立关系网络，并且可以比较方便的用pagerank计算每个好友的重要性。</p>

<p>使用networks加入node和edge都很方便，并且networkx宣称他的node可以支持任何python的hashable的类型，于是我一开始使用custom的node.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">class</span> <span class="nc">user</span><span class="p">:</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">args</span><span class="p">):</span>
</span><span class='line'>      <span class="k">assert</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;^[\d]+$&#39;</span><span class="p">,</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">])</span>
</span><span class='line'>      <span class="bp">self</span><span class="o">.</span><span class="n">uid</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">]</span>
</span><span class='line'>      <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="n">args</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class='line'>      <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>可是这样写并不正确，他好像对自定义的类支持不太好（或许是不支持自定义类）。于是在网上查了好久，才看到要实现给一个node添加附加信息的方法。</p>

<p><a href="http://stackoverflow.com/questions/8490794/how-do-i-make-a-cutomised-object-as-a-node-for-networkx-and-how-do-i-look-it-up">http://stackoverflow.com/questions/8490794/how-do-i-make-a-cutomised-object-as-a-node-for-networkx-and-how-do-i-look-it-up</a></p>

<p>于是在加入node的时候，应该用</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s">&quot;label&quot;</span><span class="p">,</span><span class="n">foo</span><span class="o">=</span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="n">bar</span><span class="o">=</span><span class="s">&quot;bar&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>于是把添加node改写成</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="p">,</span><span class="n">user</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>添加node和edge是没问题了，结果在保存<code>gml</code>文件时又出问题了，里面的字符串竟然不支持utf-8… 官方是这么解释的：</p>

<blockquote><p>Notes</p>

<p>GML specifications indicate that the file should only use 7bit ASCII text encoding.iso8859-1 (latin-1).</p>

<p>This implementation does not support all Python data types as GML data. Nodes, node attributes, edge attributes, and graph attributes must be either dictionaries or single stings or numbers. If they are not an attempt is made to represent them as strings. For example, a list as edge data G[1][2][‘somedata’]=[1,2,3], will be
represented in the GML file as:</p>

<p><a href="http://networkx.lanl.gov/reference/generated/networkx.readwrite.gml.write_gml.html">http://networkx.lanl.gov/reference/generated/networkx.readwrite.gml.write_gml.html</a></p></blockquote>

<p>于是我只好抽取是ascii的编码的用户信息。然后把类的定义改写成：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">class</span> <span class="nc">user</span><span class="p">:</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">args</span><span class="p">):</span>
</span><span class='line'>      
</span><span class='line'>      <span class="k">assert</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;^[\d]+$&#39;</span><span class="p">,</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">])</span>
</span><span class='line'>
</span><span class='line'>      <span class="bp">self</span><span class="o">.</span><span class="n">uid</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">]</span>
</span><span class='line'>      <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;uid&#39;</span><span class="p">:</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">],</span>\
</span><span class='line'>                   <span class="s">&#39;n_follows&#39;</span><span class="p">:</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;n_follows&#39;</span><span class="p">],</span>\
</span><span class='line'>                   <span class="s">&#39;n_fans&#39;</span><span class="p">:</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;n_fans&#39;</span><span class="p">],</span>\
</span><span class='line'>                   <span class="s">&#39;n_weibos&#39;</span><span class="p">:</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;n_weibos&#39;</span><span class="p">]}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class='line'>      <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>这样终于正常创建网络，读写gml文件了。</p>

		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-16T01:44:00+08:00" pubdate data-updated="true">Oct 16<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/tech/'>Tech</a>, <a class='category' href='/blog/categories/coding/'>coding</a>


</div>
	
	<div class="comments"><a href="/blog/2013/10/16/try-networkx/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/10/new-fselector-r/">
		
			Feature Selection in R Is EASY!</a>
	</h2>
	<div class="entry-content">
		<p>最早认识R语言是看到一本书叫做<i>&ldquo;Machine Learning for Hackers&rdquo;</i>, 听说R在machine learning的研究方面很有用处，就是一个专门为Machine Learning而生的语言，不过一直没用仔细研究过。在网上寻找Feature Selection方面的工具时，看到有人推荐R的package <a href=http://cran.r-project.org/web/packages/FSelector/FSelector.pdf>FSelector</a> . 于是就载下来尝试一下，结果发现真的很方便。</p>

<h4>R可以方便的使用现成的benchmark（比如<code>iris</code>），只要一句话就可以轻松导入数据！</h4>

<p>下面是一个简单的例子使用FSelector, 采用cvs来寻找feature的子集。其中第一个参数Species~表示数据集iris中的类别(label).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='r'><span class='line'>library<span class="p">(</span>FSelector<span class="p">)</span>
</span><span class='line'>data<span class="p">(</span>iris<span class="p">)</span>
</span><span class='line'>subset <span class="o">&lt;-</span> cfs<span class="p">(</span>Species<span class="o">~</span>.<span class="p">,</span> iris<span class="p">)</span>
</span><span class='line'>f <span class="o">&lt;-</span> as.simple.formula<span class="p">(</span>subset<span class="p">,</span> <span class="s">&quot;Species&quot;</span><span class="p">)</span>
</span><span class='line'>print<span class="p">(</span>f<span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>下面这个例子比较高阶，可以自己指定评价feature子集的好坏。采用best first search的策略来寻找子集。其中evaluator训练了rpart model，通过计算error rate来评价feature的好坏。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='r'><span class='line'>library<span class="p">(</span>FSelector<span class="p">)</span>
</span><span class='line'>library<span class="p">(</span>rpart<span class="p">)</span>
</span><span class='line'>data<span class="p">(</span>iris<span class="p">)</span>
</span><span class='line'>evaluator <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>subset<span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">#k-fold cross validation</span>
</span><span class='line'>  k <span class="o">&lt;-</span> <span class="m">5</span>
</span><span class='line'>  splits <span class="o">&lt;-</span> runif<span class="p">(</span>nrow<span class="p">(</span>iris<span class="p">))</span>
</span><span class='line'>  results <span class="o">=</span> sapply<span class="p">(</span><span class="m">1</span><span class="o">:</span>k<span class="p">,</span> <span class="kr">function</span><span class="p">(</span>i<span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    test.idx <span class="o">&lt;-</span> <span class="p">(</span>splits <span class="o">&gt;=</span> <span class="p">(</span>i <span class="o">-</span> <span class="m">1</span><span class="p">)</span> <span class="o">/</span> k<span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span>splits <span class="o">&lt;</span> i <span class="o">/</span> k<span class="p">)</span>
</span><span class='line'>    train.idx <span class="o">&lt;-</span> <span class="o">!</span>test.idx
</span><span class='line'>    test <span class="o">&lt;-</span> iris<span class="p">[</span>test.idx<span class="p">,</span> <span class="p">,</span> drop<span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span>
</span><span class='line'>    train <span class="o">&lt;-</span> iris<span class="p">[</span>train.idx<span class="p">,</span> <span class="p">,</span> drop<span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span>
</span><span class='line'>    tree <span class="o">&lt;-</span> rpart<span class="p">(</span>as.simple.formula<span class="p">(</span>subset<span class="p">,</span> <span class="s">&quot;Species&quot;</span><span class="p">),</span> train<span class="p">)</span>
</span><span class='line'>    error.rate <span class="o">=</span> sum<span class="p">(</span>test<span class="o">$</span>Species <span class="o">!=</span> predict<span class="p">(</span>tree<span class="p">,</span> test<span class="p">,</span> type<span class="o">=</span><span class="s">&quot;c&quot;</span><span class="p">))</span> <span class="o">/</span> nrow<span class="p">(</span>test<span class="p">)</span>
</span><span class='line'>    <span class="kr">return</span><span class="p">(</span><span class="m">1</span> <span class="o">-</span> error.rate<span class="p">)</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'>  <span class="c1">#print(subset)</span>
</span><span class='line'>  <span class="c1">#print(mean(results))</span>
</span><span class='line'>  <span class="kr">return</span><span class="p">(</span>mean<span class="p">(</span>results<span class="p">))</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>subset <span class="o">&lt;-</span> best.first.search<span class="p">(</span>names<span class="p">(</span>iris<span class="p">)[</span><span class="m">-5</span><span class="p">],</span> evaluator<span class="p">)</span>
</span><span class='line'>f <span class="o">&lt;-</span> as.simple.formula<span class="p">(</span>subset<span class="p">,</span> <span class="s">&quot;Species&quot;</span><span class="p">)</span>
</span><span class='line'>print<span class="p">(</span>f<span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h3>iris</h3>

<p>This famous (Fisher&rsquo;s or Anderson&rsquo;s) iris data set gives the measurements in centimeters of the variables sepal length and width and petal length and width, respectively, for 50 flowers from each of 3 species of iris. The species are Iris setosa, versicolor, and virginica.</p>

<h3>cfs</h3>

<p>The algorithm finds attribute subset using correlation and entropy measures for continous and discrete data.</p>

<h2>Hints</h2>

<ul>
<li>虽然原生的R语言的IDE也不错用，但是发现一个更加强大的IDE，RStudio, 真是可以媲美matlab的IDE了。</li>
<li>R语言也可以在命令行中用batch的方式来运行，具体指令是<code>R CMD BATCH [options] infile [outfile]</code>, infile就是R的脚本文件，R的输出一般无法显示到STDOUT中，是以文件的形式存起来。如果没有指定outfile，就会以原文件名的方式来命名。在脚本执行的时候，很多无关紧要的内容也会被输出，可以使用options命令的<code>--slave</code>. 在最后的输出中，他也会很好心的帮你计算运行时间，如果不需要，也可以加<code>--no-timing</code>. 详见<a href="http://stat.ethz.ch/R-manual/R-devel/library/utils/html/BATCH.html">http://stat.ethz.ch/R-manual/R-devel/library/utils/html/BATCH.html</a></li>
</ul>


		
		
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-10T23:43:00+08:00" pubdate data-updated="true">Oct 10<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/coding/'>Coding</a>, <a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
	
	<div class="comments"><a href="/blog/2013/10/10/new-fselector-r/#disqus_thread">Comments</a></div>
	
</div>
</article>


    <article class="post">
	<h2 class="title">
		
		<a href="/blog/2013/10/07/google-map/">
		
			在octopress中加入Google Map</a>
	</h2>
	<div class="entry-content">
		<h3>需要科学上网才能正常显示Google Map(API被墙了T_T)</h3>

<p>想在octopress中插入地图信息，考虑到之后可能会在博客中加入关于游记的文章，如果文章能有形象的地图信息会有很好的效果。于是在网上搜寻octopress的地图插件，发现一个叫做<a herf="http://mguentner.github.io/octolayer/">Octolayer</a>的插件，想载下来试试，不过github刚好出问题，我无法获取代码，再加上他不是用google map. 作为一个google的忠实脑残粉，我就决定自己写一个。</p>

<p>研究了一下<a href="https://developers.google.com/maps/documentation/javascript/">google map API</a>，发现难度并不大。就是在我的文章内容中加入一个div，然后用js去render. 照着sample code改了一下代码，主要是为了从div的属性中读取经纬度坐标。（需要jQuery）</p>

<figure class='code'><figcaption><span>gmap.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">initialize</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">lat</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#map-canvas&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">lng</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#map-canvas&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;lng&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">lat</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">lng</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">loc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">lat</span><span class="p">,</span><span class="nx">lng</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">mapOptions</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">zoom</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">center</span><span class="o">:</span> <span class="nx">loc</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">mapTypeId</span><span class="o">:</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">MapTypeId</span><span class="p">.</span><span class="nx">ROADMAP</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Map</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;map-canvas&#39;</span><span class="p">),</span>
</span><span class='line'>      <span class="nx">mapOptions</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Marker</span><span class="p">({</span>
</span><span class='line'>      <span class="nx">position</span><span class="o">:</span> <span class="nx">loc</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">map</span><span class="o">:</span> <span class="nx">map</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Hello World!&#39;</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">addDomListener</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="nx">initialize</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>



		
		<a href="/blog/2013/10/07/google-map/" class="more-link">More</a>
	</div>


<div class="meta">
	<div class="date">








  


<time datetime="2013-10-07T02:21:00+08:00" pubdate data-updated="true">Oct 7<span>th</span>, 2013</time></div>
	<div class="tags">


	<a class='category' href='/blog/categories/coding/'>Coding</a>, <a class='category' href='/blog/categories/tech/'>Tech</a>


</div>
	
	<div class="comments"><a href="/blog/2013/10/07/google-map/#disqus_thread">Comments</a></div>
	
</div>
</article>

<nav id="pagenavi">
    
    
        <a href="/blog/page/2/" class="next">Older</a>
    
    <div class="center"><a href="/blog/archives">Blog Archives</a></div>
</nav></div>
	<footer id="footer" class="inner"><p>
  Copyright &copy; 2013 - Eli -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p></footer>
	<script src="/javascripts/slash.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script> <!-- Delete or comment this line to disable Fancybox -->


<script type="text/javascript">
      var disqus_shortname = 'blog-jfttt';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//go.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-42052957-1']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>



</body>
</html>