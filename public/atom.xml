<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[醉過方知酒濃]]></title>
  <link href="http://yoursite.com/atom.xml" rel="self"/>
  <link href="http://yoursite.com/"/>
  <updated>2013-11-02T00:22:54+08:00</updated>
  <id>http://yoursite.com/</id>
  <author>
    <name><![CDATA[Eli]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[在hive中使用python来做UDF有点糟]]></title>
    <link href="http://yoursite.com/blog/2013/11/01/udf-in-python-sucks/"/>
    <updated>2013-11-01T23:57:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/11/01/udf-in-python-sucks</id>
    <content type="html"><![CDATA[<p>之前写了篇介绍如何在HIVE中用python来写UDF的文字，最近终于也开始需要用UDF来处理一些数据了。</p>

<p>可是现实和理想总是存在些差距，原本想着python简洁的代码和随改随用的特性，在UDF的灵活性上显得有点苍白无力。利用<code>TRANSFORM</code>, <code>USING</code>, <code>AS</code>的结构来把python的脚本当做UDF，虽然看起来非常方便，但实际用起来却有很大问题。</p>

<h2>无法单独处理某个字段</h2>

<p>没有仔细研究过这个具体的流程，不过猜想应该是从hive中select出来的数据以pipe的形式转到python的stdin中，再把python中的stdout的内容转到hive的输出中。这样如果仅需对选出的某个字段进行处理，其余字段不进行处理的话，必须在Python脚本中注意当前要处理的字段是第几个，一旦select中的顺序有所改变，那python脚本应该就无法处理了。目前仅选一个字段出来进行处理的情况比较少，大部分都是选出好几个字段来看。所以虽然python很好，不过我还是“十动然拒”了吧。</p>

<h2>无法外加聚集函数</h2>

<p>在使用中，下面这种格式是很死的。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">SELECT</span> <span class="k">TRANSFORM</span><span class="p">(</span><span class="n">field_A</span><span class="p">,</span> <span class="n">field_B</span><span class="p">)</span> <span class="k">USING</span> <span class="s1">&#39;python foo.py&#39;</span> <span class="k">AS</span><span class="p">(</span><span class="n">field_AA</span><span class="p">,</span> <span class="n">field_BB</span><span class="p">)</span> <span class="k">FROM</span> <span class="p">...</span>
</span></code></pre></td></tr></table></div></figure>


<p>比如你想再对UDF外面加一层<code>Count</code>是没有办法实现的。某人会告诉你格式不对，无法运行。但是常规的用java写的UDF是没有问题的，全部都能hold住~</p>

<h2>外加的吐槽</h2>

<p>实际工作中，不仅仅需要<code>UDF</code>，<code>UDAF</code>和<code>UDTF</code>都是会经常遇到的。而Python拼死只能处理UDF的情况，对于后者只能呵呵了。于是反正UDAF和UDTF还是需要JAVA来写，那UDF也就顺便用JAVA写了吧。这样代码也统一一点，便于管理。</p>

<p>所以虽然python在UDF上的效果可以实现，不过功能太过简单，实际环境下还是很无力的。接下来还是用JAVA写<code>UDF</code>,<code>UDAF</code>和<code>UDTF</code>吧。回头吧，少年~</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[人生若只如初见]]></title>
    <link href="http://yoursite.com/blog/2013/10/24/first-love/"/>
    <updated>2013-10-24T22:11:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/24/first-love</id>
    <content type="html"><![CDATA[<blockquote><p>人生若只如初見
何事秋風悲畫扇</p>

<p>等閒變卻故人心
卻道故心人易變</p></blockquote>

<p>兩人相見，並沒有絲毫的躲閃，言語之間還是如同往常。真的像是认识很久的老友，我了解她，她也了解我。交谈时毫不顾忌，于是，她還是那麼欢快中带点豪爽，我還是那樣幽默中带点木讷。</p>

<p>从热恋到分手，是否就是一个从有很多话想讲，到把能讲的话都讲完的一个过程？双方发现没话讲了，于是一方说分手，另一方默认。但开始恋爱的原因，不就是觉得我们有永远讲不完的话题，永远用不完的欢笑吗？为什么当恋人非得有话要讲，聊得越多就表明爱的越多吗？在交往过程中，双方都有责任和义务和对方讲话，一旦讲不出话，沉没时，就会导致冷战的开始，觉得缘分已尽了吧，或者觉得对方变心了。反而是成了朋友之后，卸下了这份责任和义务，想讲的时候就讲，不讲也不会有人责怪。没有了压力，自然聊得轻松。</p>

<p>爱情真的能转化成友情，还是旧情人相见时互相客套的热情？双方尽量表现的不在乎，好像在说，“看吧，没有你我照样过得很好”。我只是单纯的想对她好，因为以前我对其他女生好，她会生气，现在我对她好，至少还没有人会生我的气吧。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[终于来到了厦门]]></title>
    <link href="http://yoursite.com/blog/2013/10/18/travel-to-xiamen/"/>
    <updated>2013-10-18T01:32:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/18/travel-to-xiamen</id>
    <content type="html"><![CDATA[<p>以前一直想去厦门，可是都没有机会，没有成行。后来就去了台湾。
现在从台湾回来，没想到工作还不到一个月就有机会和同事们一起去厦门旅游。我们搭某廉价航空的飞机，旅途算是有点艰辛——除了飞机晚点一个多小时不说，整趟飞行中不能把座椅后背倒下来，结果坐的脖子都僵硬了T_T</p>

<p>好在最后还是安全降落在厦门机场，来到近期被爆数据库的某家快捷酒店。到酒店已经11点半了，稍微整理了一下出来到附近的宵夜摊，在一家卖沙茶面的店里坐下了。虽然说离开台湾还不到2个月，不过现在身处一海峡之隔的厦门，真的对台湾有了一点想念。于是点了一个在台湾常吃的蚵仔煎(ou a jian)，和没有吃过的沙茶面。结果蚵仔煎和我想的差距有点大，看来隔了一条海峡，蚵仔煎出现了变种。可怕的是，价格竟然还要高于台湾的。。。</p>

<h2>Tips</h2>

<p>除了物价过高之外，小贩的人品也很低。特别是买水果，基本上所有的小贩秤都偏重，大家在买水果之前，先要把手机放在秤上看看秤的准度。太离谱的就马上走人。如果在晚上，要当心小贩给你偷梁换柱。我们一行人在鹭江道的<b>台湾小吃街</b>门口买了水果，没想到小贩给我们秤完重量后，偷偷的换了另外一袋给我们，幸好我们人多，立刻把她识破了。然后她从一开始的客气的给我们试吃水果，立刻变的很凶的大声叫嚷。</p>

<!--more-->


<h1>游览路线</h1>

<h2>Day 1</h2>

<h3>鼓浪屿</h3>

<p><img src="http://maps.googleapis.com/maps/api/staticmap?size=640x100&maptype=roadmap&markers=size:mid%7Ccolor:red%7C鼓浪屿%7C&zoom=14&sensor=false" /></p>

<p>本以为避开十一高峰去人会比较少，不过还是低估了厦门最有名的经典之一的鼓浪屿吸引游客的能力。看来如果十一去的话，必定是被挤出翔啊。鼓浪屿上地势高低起伏比较大，一条条曲折的小巷，从高到低，从低到高的不断延伸。巷子里有很多建筑物和小店，不少店里提供盖章留念，如果是比较文艺的游客，可以搜集这些印章。</p>

<p>在鼓浪屿上有不少有名的店，比如<code>张三疯</code>奶茶店，不过20元一杯的奶茶确实有点小贵，大多数人选择拍照留念后就走人了（后来才发现这家奶茶店的连锁挺多的，不只是在鼓浪屿上才有）。<code>黄胜记</code>的猪肉脯也不错，主要是店内提供免费的试吃，品尝一下味道不买也没有关系。在<code>黄胜记</code>旁边有家叫做<code>联邦调茶局</code>的店，他们除了卖饮料之外，还有很多的茶包和茶叶卖。起先因为名字比较独特就过去看了看，后来被正妹店员吸引进入店内仔细看看，最终被正妹店员叫帅哥之后，果断的买了一罐茶叶回去。也是在附近，有一家卖肥肠粉的店，看到排很长队，味道也不错。附近还有一家比较大的卖明信片和纪念品的店，在店内看到很多具有特色的明信片，就忍不住买了很多，写了寄给台湾的学妹(^_^)</p>

<h3>中山路步行街</h3>

<p><img src="http://maps.googleapis.com/maps/api/staticmap?size=640x100&maptype=roadmap&markers=size:mid%7Ccolor:red%7C中山路步行街%7C&zoom=14&sensor=false" /></p>

<p>中山路步行街上有很多饭馆，小吃店，服装店。。。第一天路过<code>黄则和</code>，那里的花生汤挺好喝的。在滑蛋中加入了花生，口味比较偏甜。第二天去中山路时，还去了非常有名的<code>藏足馆推拿足浴</code>，大概要排半个多小时才能有空位，而且这还是淡季。比起上海，这里的推拿价格算挺便宜了，物超所值。</p>

<p>靠近中山路的思明西路上，有一家叫<code>梦bar</code>的酒吧，应该是附近比较靠谱的一家酒吧了。来到一个城市，当然要体验一下里面的酒吧了~我一个人去酒吧，坐在靠窗的位子上，点了一杯啤酒，老板送上免费的花生，还热情的跟我聊天。老板是个魔术师，墙上挂了一些照片，不过我没让他当场show几下，因为和另一个可爱的调酒师一起喝酒玩色子会来的更有意思。</p>

<h2>Day 2</h2>

<h3>南普陀寺</h3>

<p><img src="http://maps.googleapis.com/maps/api/staticmap?size=640x100&maptype=roadmap&markers=size:mid%7Ccolor:red%7C南普陀寺%7C&zoom=14&sensor=false" /></p>

<p>本来打算是先去厦门大学的，在轮渡门口坐841路公交车就能到厦大门口。但是厦大是需要排队进入，到那里已经快11点，排队进入厦大的游客已经是相当多了。所以就决定先去南普陀寺。</p>

<p>由于我们不是特意来烧香的，所以前面的庙宇并没有用心看，直接就走上了后山。山不算太高，体力还可以的，比较轻松的就能登顶。在山顶的视野挺不错的，可以看到远处的建筑物，海，轮船。</p>

<h3>厦门大学</h3>

<p><img src="http://maps.googleapis.com/maps/api/staticmap?size=640x100&maptype=roadmap&markers=size:mid%7Ccolor:red%7C厦门大学%7C&zoom=14&sensor=false" /></p>

<p>厦门大学已经成为了厦门一个知名的景点了，很多游客慕名而来。厦大的美丽，让我想起了台大，同样是树木葱郁的校园，刚从校园走出来的我，又一次来到一个校园，还把自己当作是校园中的一份子。</p>

<p>厦大的芙蓉隧道真的是很惊人，里面的涂鸦充分展示了大学生的热情。喜欢拍照的话，可以在里面摆各种pose，可以把自己融入涂鸦当中去。</p>

<h3>环岛南路</h3>

<p><img src="http://maps.googleapis.com/maps/api/staticmap?size=640x100&maptype=roadmap&markers=size:mid%7Ccolor:red%7C环岛路南%7C&zoom=13&sensor=false" /></p>

<p>沿着环岛南路，有一片很大的沙滩，虽然海水不及台湾的清澈，沙滩看起来也比较脏。但是玩水的人还挺多的，似乎只要是海，人就会对它产生一种发自本能的喜爱。我来厦门的目的，也就是想看看海。</p>

<h3>曾厝垵</h3>

<p><img src="http://maps.googleapis.com/maps/api/staticmap?size=640x100&maptype=roadmap&markers=size:mid%7Ccolor:red%7C曾厝垵%7C&zoom=13&sensor=false" /></p>

<p>从沙滩上来，太阳已经下山了。沿着环岛难路，一路走到了曾厝垵。在点评上看到一家叫做<code>亚尖大排档</code>的店，有不错的评价，还有团购券，晚餐就在那里解决。菜的味道还算不错，只是上菜速度有点慢。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[试用networkx]]></title>
    <link href="http://yoursite.com/blog/2013/10/16/try-networkx/"/>
    <updated>2013-10-16T01:44:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/16/try-networkx</id>
    <content type="html"><![CDATA[<p>最近想用pagerank的方法来分析微博好友之间的权威关系，于是试着用crawler去抓微博上好友的信息，然后建立关系网络。在网上看到用networkx可以比较方便的建立关系网络，并且可以比较方便的用pagerank计算每个好友的重要性。</p>

<p>使用networks加入node和edge都很方便，并且networkx宣称他的node可以支持任何python的hashable的类型，于是我一开始使用custom的node.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">class</span> <span class="nc">user</span><span class="p">:</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">args</span><span class="p">):</span>
</span><span class='line'>      <span class="k">assert</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;^[\d]+$&#39;</span><span class="p">,</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">])</span>
</span><span class='line'>      <span class="bp">self</span><span class="o">.</span><span class="n">uid</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">]</span>
</span><span class='line'>      <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="n">args</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class='line'>      <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>可是这样写并不正确，他好像对自定义的类支持不太好（或许是不支持自定义类）。于是在网上查了好久，才看到要实现给一个node添加附加信息的方法。</p>

<p><a href="http://stackoverflow.com/questions/8490794/how-do-i-make-a-cutomised-object-as-a-node-for-networkx-and-how-do-i-look-it-up">http://stackoverflow.com/questions/8490794/how-do-i-make-a-cutomised-object-as-a-node-for-networkx-and-how-do-i-look-it-up</a></p>

<p>于是在加入node的时候，应该用</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="s">&quot;label&quot;</span><span class="p">,</span><span class="n">foo</span><span class="o">=</span><span class="s">&quot;foo&quot;</span><span class="p">,</span><span class="n">bar</span><span class="o">=</span><span class="s">&quot;bar&quot;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>于是把添加node改写成</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="n">G</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">user</span><span class="o">.</span><span class="n">uid</span><span class="p">,</span><span class="n">user</span><span class="o">.</span><span class="n">info</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>添加node和edge是没问题了，结果在保存<code>gml</code>文件时又出问题了，里面的字符串竟然不支持utf-8… 官方是这么解释的：</p>

<blockquote><p>Notes</p>

<p>GML specifications indicate that the file should only use 7bit ASCII text encoding.iso8859-1 (latin-1).</p>

<p>This implementation does not support all Python data types as GML data. Nodes, node attributes, edge attributes, and graph attributes must be either dictionaries or single stings or numbers. If they are not an attempt is made to represent them as strings. For example, a list as edge data G[1][2][‘somedata’]=[1,2,3], will be
represented in the GML file as:</p>

<p><a href="http://networkx.lanl.gov/reference/generated/networkx.readwrite.gml.write_gml.html">http://networkx.lanl.gov/reference/generated/networkx.readwrite.gml.write_gml.html</a></p></blockquote>

<p>于是我只好抽取是ascii的编码的用户信息。然后把类的定义改写成：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="k">class</span> <span class="nc">user</span><span class="p">:</span>
</span><span class='line'>  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">args</span><span class="p">):</span>
</span><span class='line'>      
</span><span class='line'>      <span class="k">assert</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;^[\d]+$&#39;</span><span class="p">,</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">])</span>
</span><span class='line'>
</span><span class='line'>      <span class="bp">self</span><span class="o">.</span><span class="n">uid</span> <span class="o">=</span> <span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">]</span>
</span><span class='line'>      <span class="bp">self</span><span class="o">.</span><span class="n">info</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;uid&#39;</span><span class="p">:</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;uid&#39;</span><span class="p">],</span>\
</span><span class='line'>                   <span class="s">&#39;n_follows&#39;</span><span class="p">:</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;n_follows&#39;</span><span class="p">],</span>\
</span><span class='line'>                   <span class="s">&#39;n_fans&#39;</span><span class="p">:</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;n_fans&#39;</span><span class="p">],</span>\
</span><span class='line'>                   <span class="s">&#39;n_weibos&#39;</span><span class="p">:</span><span class="n">args</span><span class="p">[</span><span class="s">&#39;n_weibos&#39;</span><span class="p">]}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">def</span> <span class="nf">__hash__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span class='line'>      <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">uid</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>这样终于正常创建网络，读写gml文件了。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Feature Selection in R is EASY!]]></title>
    <link href="http://yoursite.com/blog/2013/10/10/new-fselector-r/"/>
    <updated>2013-10-10T23:43:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/10/new-fselector-r</id>
    <content type="html"><![CDATA[<p>最早认识R语言是看到一本书叫做<i>&ldquo;Machine Learning for Hackers&rdquo;</i>, 听说R在machine learning的研究方面很有用处，就是一个专门为Machine Learning而生的语言，不过一直没用仔细研究过。在网上寻找Feature Selection方面的工具时，看到有人推荐R的package <a href=http://cran.r-project.org/web/packages/FSelector/FSelector.pdf>FSelector</a> . 于是就载下来尝试一下，结果发现真的很方便。</p>

<h4>R可以方便的使用现成的benchmark（比如<code>iris</code>），只要一句话就可以轻松导入数据！</h4>

<p>下面是一个简单的例子使用FSelector, 采用cvs来寻找feature的子集。其中第一个参数Species~表示数据集iris中的类别(label).</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='r'><span class='line'>library<span class="p">(</span>FSelector<span class="p">)</span>
</span><span class='line'>data<span class="p">(</span>iris<span class="p">)</span>
</span><span class='line'>subset <span class="o">&lt;-</span> cfs<span class="p">(</span>Species<span class="o">~</span>.<span class="p">,</span> iris<span class="p">)</span>
</span><span class='line'>f <span class="o">&lt;-</span> as.simple.formula<span class="p">(</span>subset<span class="p">,</span> <span class="s">&quot;Species&quot;</span><span class="p">)</span>
</span><span class='line'>print<span class="p">(</span>f<span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p>下面这个例子比较高阶，可以自己指定评价feature子集的好坏。采用best first search的策略来寻找子集。其中evaluator训练了rpart model，通过计算error rate来评价feature的好坏。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
</pre></td><td class='code'><pre><code class='r'><span class='line'>library<span class="p">(</span>FSelector<span class="p">)</span>
</span><span class='line'>library<span class="p">(</span>rpart<span class="p">)</span>
</span><span class='line'>data<span class="p">(</span>iris<span class="p">)</span>
</span><span class='line'>evaluator <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span>subset<span class="p">)</span> <span class="p">{</span>
</span><span class='line'>  <span class="c1">#k-fold cross validation</span>
</span><span class='line'>  k <span class="o">&lt;-</span> <span class="m">5</span>
</span><span class='line'>  splits <span class="o">&lt;-</span> runif<span class="p">(</span>nrow<span class="p">(</span>iris<span class="p">))</span>
</span><span class='line'>  results <span class="o">=</span> sapply<span class="p">(</span><span class="m">1</span><span class="o">:</span>k<span class="p">,</span> <span class="kr">function</span><span class="p">(</span>i<span class="p">)</span> <span class="p">{</span>
</span><span class='line'>    test.idx <span class="o">&lt;-</span> <span class="p">(</span>splits <span class="o">&gt;=</span> <span class="p">(</span>i <span class="o">-</span> <span class="m">1</span><span class="p">)</span> <span class="o">/</span> k<span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span>splits <span class="o">&lt;</span> i <span class="o">/</span> k<span class="p">)</span>
</span><span class='line'>    train.idx <span class="o">&lt;-</span> <span class="o">!</span>test.idx
</span><span class='line'>    test <span class="o">&lt;-</span> iris<span class="p">[</span>test.idx<span class="p">,</span> <span class="p">,</span> drop<span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span>
</span><span class='line'>    train <span class="o">&lt;-</span> iris<span class="p">[</span>train.idx<span class="p">,</span> <span class="p">,</span> drop<span class="o">=</span><span class="kc">FALSE</span><span class="p">]</span>
</span><span class='line'>    tree <span class="o">&lt;-</span> rpart<span class="p">(</span>as.simple.formula<span class="p">(</span>subset<span class="p">,</span> <span class="s">&quot;Species&quot;</span><span class="p">),</span> train<span class="p">)</span>
</span><span class='line'>    error.rate <span class="o">=</span> sum<span class="p">(</span>test<span class="o">$</span>Species <span class="o">!=</span> predict<span class="p">(</span>tree<span class="p">,</span> test<span class="p">,</span> type<span class="o">=</span><span class="s">&quot;c&quot;</span><span class="p">))</span> <span class="o">/</span> nrow<span class="p">(</span>test<span class="p">)</span>
</span><span class='line'>    <span class="kr">return</span><span class="p">(</span><span class="m">1</span> <span class="o">-</span> error.rate<span class="p">)</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'>  <span class="c1">#print(subset)</span>
</span><span class='line'>  <span class="c1">#print(mean(results))</span>
</span><span class='line'>  <span class="kr">return</span><span class="p">(</span>mean<span class="p">(</span>results<span class="p">))</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>subset <span class="o">&lt;-</span> best.first.search<span class="p">(</span>names<span class="p">(</span>iris<span class="p">)[</span><span class="m">-5</span><span class="p">],</span> evaluator<span class="p">)</span>
</span><span class='line'>f <span class="o">&lt;-</span> as.simple.formula<span class="p">(</span>subset<span class="p">,</span> <span class="s">&quot;Species&quot;</span><span class="p">)</span>
</span><span class='line'>print<span class="p">(</span>f<span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<h3>iris</h3>

<p>This famous (Fisher&rsquo;s or Anderson&rsquo;s) iris data set gives the measurements in centimeters of the variables sepal length and width and petal length and width, respectively, for 50 flowers from each of 3 species of iris. The species are Iris setosa, versicolor, and virginica.</p>

<h3>cfs</h3>

<p>The algorithm finds attribute subset using correlation and entropy measures for continous and discrete data.</p>

<h2>Hints</h2>

<ul>
<li>虽然原生的R语言的IDE也不错用，但是发现一个更加强大的IDE，RStudio, 真是可以媲美matlab的IDE了。</li>
<li>R语言也可以在命令行中用batch的方式来运行，具体指令是<code>R CMD BATCH [options] infile [outfile]</code>, infile就是R的脚本文件，R的输出一般无法显示到STDOUT中，是以文件的形式存起来。如果没有指定outfile，就会以原文件名的方式来命名。在脚本执行的时候，很多无关紧要的内容也会被输出，可以使用options命令的<code>--slave</code>. 在最后的输出中，他也会很好心的帮你计算运行时间，如果不需要，也可以加<code>--no-timing</code>. 详见<a href="http://stat.ethz.ch/R-manual/R-devel/library/utils/html/BATCH.html">http://stat.ethz.ch/R-manual/R-devel/library/utils/html/BATCH.html</a></li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在octopress中加入Google map]]></title>
    <link href="http://yoursite.com/blog/2013/10/07/google-map/"/>
    <updated>2013-10-07T02:21:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/07/google-map</id>
    <content type="html"><![CDATA[<h3>需要科学上网才能正常显示Google Map(API被墙了T_T)</h3>

<p>想在octopress中插入地图信息，考虑到之后可能会在博客中加入关于游记的文章，如果文章能有形象的地图信息会有很好的效果。于是在网上搜寻octopress的地图插件，发现一个叫做<a herf="http://mguentner.github.io/octolayer/">Octolayer</a>的插件，想载下来试试，不过github刚好出问题，我无法获取代码，再加上他不是用google map. 作为一个google的忠实脑残粉，我就决定自己写一个。</p>

<p>研究了一下<a href="https://developers.google.com/maps/documentation/javascript/">google map API</a>，发现难度并不大。就是在我的文章内容中加入一个div，然后用js去render. 照着sample code改了一下代码，主要是为了从div的属性中读取经纬度坐标。（需要jQuery）</p>

<figure class='code'><figcaption><span>gmap.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">initialize</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">lat</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#map-canvas&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;lat&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">lng</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;#map-canvas&quot;</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s2">&quot;lng&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">lat</span><span class="p">);</span>
</span><span class='line'>  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">lng</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">loc</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">lat</span><span class="p">,</span><span class="nx">lng</span><span class="p">);</span>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">mapOptions</span> <span class="o">=</span> <span class="p">{</span>
</span><span class='line'>    <span class="nx">zoom</span><span class="o">:</span> <span class="mi">7</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">center</span><span class="o">:</span> <span class="nx">loc</span><span class="p">,</span>
</span><span class='line'>    <span class="nx">mapTypeId</span><span class="o">:</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">MapTypeId</span><span class="p">.</span><span class="nx">ROADMAP</span>
</span><span class='line'>  <span class="p">};</span>
</span><span class='line'>
</span><span class='line'>  <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Map</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;map-canvas&#39;</span><span class="p">),</span>
</span><span class='line'>      <span class="nx">mapOptions</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">marker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Marker</span><span class="p">({</span>
</span><span class='line'>      <span class="nx">position</span><span class="o">:</span> <span class="nx">loc</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">map</span><span class="o">:</span> <span class="nx">map</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">title</span><span class="o">:</span> <span class="s1">&#39;Hello World!&#39;</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">addDomListener</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="nx">initialize</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<!--more-->


<p><b>但是上面的方法对于需要多个marker时会比较难处理，于是进行如下修改(10月7日下午修改)</b></p>

<figure class='code'><figcaption><span>gmap.js</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">function</span> <span class="nx">initialize</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">$</span><span class="p">(</span><span class="s2">&quot;div#map-canvas&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span> <span class="k">return</span><span class="p">;</span> <span class="c1">//check there is map-canves</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">locations</span><span class="o">=</span><span class="p">[];</span>
</span><span class='line'>
</span><span class='line'>  <span class="c1">//get locations from div.map-marker</span>
</span><span class='line'>  <span class="nx">$</span><span class="p">(</span><span class="s2">&quot;div.map-marker&quot;</span><span class="p">).</span><span class="nx">each</span><span class="p">(</span><span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>    <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">));</span>
</span><span class='line'>    <span class="nx">locations</span><span class="p">.</span><span class="nx">push</span><span class="p">([</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">),</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;lat&#39;</span><span class="p">),</span><span class="nx">$</span><span class="p">(</span><span class="k">this</span><span class="p">).</span><span class="nx">attr</span><span class="p">(</span><span class="s1">&#39;lng&#39;</span><span class="p">)]);</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">map</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Map</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;map-canvas&#39;</span><span class="p">),</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">zoom</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span>
</span><span class='line'>      <span class="nx">center</span><span class="o">:</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="nx">locations</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">2</span><span class="p">]),</span>
</span><span class='line'>      <span class="nx">mapTypeId</span><span class="o">:</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">MapTypeId</span><span class="p">.</span><span class="nx">ROADMAP</span>
</span><span class='line'>    <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>  <span class="kd">var</span> <span class="nx">infowindow</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">InfoWindow</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">for</span> <span class="p">(</span><span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">locations</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="nx">marker</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">Marker</span><span class="p">({</span>
</span><span class='line'>        <span class="nx">position</span><span class="o">:</span> <span class="k">new</span> <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">LatLng</span><span class="p">(</span><span class="nx">locations</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span> <span class="nx">locations</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]),</span>
</span><span class='line'>        <span class="nx">map</span><span class="o">:</span> <span class="nx">map</span>
</span><span class='line'>      <span class="p">});</span>
</span><span class='line'>
</span><span class='line'>      <span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">addListener</span><span class="p">(</span><span class="nx">marker</span><span class="p">,</span> <span class="s1">&#39;click&#39;</span><span class="p">,</span> <span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">marker</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
</span><span class='line'>          <span class="nx">infowindow</span><span class="p">.</span><span class="nx">setContent</span><span class="p">(</span><span class="nx">locations</span><span class="p">[</span><span class="nx">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
</span><span class='line'>          <span class="nx">infowindow</span><span class="p">.</span><span class="nx">open</span><span class="p">(</span><span class="nx">map</span><span class="p">,</span> <span class="nx">marker</span><span class="p">);</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>      <span class="p">})(</span><span class="nx">marker</span><span class="p">,</span> <span class="nx">i</span><span class="p">));</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">google</span><span class="p">.</span><span class="nx">maps</span><span class="p">.</span><span class="nx">event</span><span class="p">.</span><span class="nx">addDomListener</span><span class="p">(</span><span class="nb">window</span><span class="p">,</span> <span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="nx">initialize</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>把<code>gmap.js</code>放在<code>source/javascripts</code>中，并且在<code>source/_includes/head.html</code>中加入下面几行：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;script </span><span class="na">async=</span><span class="s">&quot;true&quot;</span> <span class="na">src=</span><span class="s">&quot;//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;https://maps.googleapis.com/maps/api/js?v=3.exp&amp;sensor=false&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span><span class='line'><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;/javascripts/gmap.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>如果已经在前面加过jQuery的话，就不用加第一行了。
然后在文章中，加入下面这段html代码。
其中div.map-marker用来传递每个marker的信息（lat和lng表示地点的经纬度，name表示marker的名字，这些是目前是需要自己输入的）; div#map-canvas用来最终显示地图。</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;map-marker&quot;</span> <span class="na">lat=</span><span class="s">&quot;-33.890542&quot;</span> <span class="na">lng=</span><span class="s">&quot;151.274856&quot;</span> <span class="na">name =</span><span class="err"> </span><span class="s">&quot;BondiBeach&quot;</span> <span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;map-marker&quot;</span> <span class="na">name =</span><span class="err"> </span><span class="s">&quot;CoogeeBeach&quot;</span> <span class="na">lat=</span><span class="err"> </span><span class="s">&quot;-33.923036&quot;</span> <span class="na">lng=</span><span class="s">&quot;151.259052&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span><span class='line'><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;map-canvas&quot;</span><span class="nt">&gt;&lt;/div&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>我以为这样子应该能显示地图了，可是实际上却无法显示。这个问题我折腾了很久，最后才发现需要给div加css. 所以要在<code>source/stylesheets</code>中创建一个css样式文件（被HTML坑了）。</p>

<figure class='code'><figcaption><span>gmap.css</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='css'><span class='line'><span class="nf">#map-canvas</span> <span class="p">{</span> <span class="k">margin</span><span class="o">:</span> <span class="m">20px</span> <span class="m">0</span> <span class="m">20px</span> <span class="m">0</span><span class="p">;</span> <span class="k">height</span><span class="o">:</span> <span class="m">300px</span><span class="p">;}</span>
</span></code></pre></td></tr></table></div></figure>


<p>所以在<code>source/_includes/head.html</code>中也要加入下面这行：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;/stylesheets/gmap.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span class="s">&quot;text/css&quot;</span><span class="nt">&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>这样子应该可以出现下面的结果了：</p>

<div class="map-marker" lat="-33.890542" lng="151.274856" name = "BondiBeach" ></div>


<div class="map-marker" name = "CoogeeBeach" lat= "-33.923036" lng="151.259052"></div>


<div id="map-canvas"></div>


<p>目前存在的问题是，因为都使用id叫map-canvas的div, 所以在同个页面中显示多个地图就会出错了。之后再想办法改进。又快天亮了，先睡了zzz</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[进藏前传]]></title>
    <link href="http://yoursite.com/blog/2013/10/04/go-to-tibet/"/>
    <updated>2013-10-04T16:31:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/04/go-to-tibet</id>
    <content type="html"><![CDATA[<p>最近看了一些书，都是和西藏旅行相关的，身边也有认识的人去西藏旅行。文青们都认为去西藏可以净化自己的心灵，近距离接近天堂。作为一个伪文青的我，自然也要跟随着众多文青的后尘。去西藏的愿望也在心底埋下了一颗种子。</p>

<p>但是毕竟西藏不是一般的地方，除了高原反应和大太阳之外，路途遥远，沿路也不免遇到土匪野兽之类的东西，所以计划必须周全，于是我从现在开始收集进藏的必备知识，待这些知识成熟之后，再亲自赴藏，到时候也许会和小伙伴一起，也许会和妹子同行，也许就我一个人。此文会不断补充，希望广大网友们多多给些意见。</p>

<!-- more -->


<h2>基础篇</h2>

<ul>
<li><b>时间</b> 最适合去西藏旅游的时间是10月份，空气含氧量是一年内最高的(66%-67%)。</li>
<li><b>携带物品</b> 高原反映的药物(红景天)，消炎软膏，晕车药，唇膏，墨镜，防晒霜（SPA50+）</li>
</ul>


<h4>应对高原反应（摘自《背包十年》）</h4>

<ol>
<li>提前至少10天服用高原红景天</li>
<li>进入高原第一天，不要吃太多</li>
<li>进入高原第一天不要在超过海拔4500米以上的地段过夜</li>
<li>除非要死，最好不要吸氧</li>
<li>坚持，一定要坚持，没什么大不了</li>
</ol>


<h2>路线篇</h2>

<p>首先研究了一下进藏路线，我是比较喜欢享受过程，如果直接坐飞机到达拉萨，会感觉没有那么大的成就感，所以希望通过陆上的方式过去。网上了解到，大致可以分为3条路线：</p>

<h3>川藏方向</h3>

<h5>318国道</h5>

<p>这几天看书和网络，看到最多的就是318国道。而且从上海的人民广场出发，一路可以开到西藏。</p>

<p>318国道始建于1993年，1996年建成。起点为上海人民广场，途径浙江、安徽、湖北、重庆、四川、终点为西藏聂拉木县樟木镇友谊桥，全长5476千米，是中国目前最长的国道。因其横跨中国东中西部，揽括了平原、丘陵、盆地、高原景观，包含了江浙水乡文化、天府盆地文化、西藏人文景观，拥有从成都平原到青藏高原的高山峡谷一路的惊、险、绝、美、雄、壮的景观，而被中国国家地理杂志在2006年第10期评为中国的景观大道。<a href=
http://baike.baidu.com/view/157811.htm>百度百科</a></p>

<h5>川藏公路</h5>

<p>川藏公路是连通四川成都与西藏拉萨之间汽车通行的第一条公路。川藏线始于四川成都，经雅安、康定，在新都桥分为南北两线：川藏北线经甘孜、德格、进入西藏昌都、邦达；川藏南线属318国道，经雅安、理塘、巴塘、进入西藏芝康，后在邦达与北线会合，再经巴宿、波密、林芝到拉萨。北线全长2412公里，沿途最高点是海拔4916米的雀儿山；南线全长2159公里，进藏多走南线。川藏线是中国人的景观大道，沿途景色迷人，旅游景点众多（例如稻城亚丁，海螺沟，丹巴，四姑娘山等）。<a href="http://baike.baidu.com/view/30712.htm">http://baike.baidu.com/view/30712.htm</a></p>

<p>走川藏线会遇到威猛的康巴人</p>

<h3>青藏方向</h3>

<p>青藏线可以走青藏公路和青藏铁路，不过我还是比较偏好铁路，毕竟不用自己开车，比较省事。</p>

<p>在格尔木的武警招待所，可以找到常年跑青藏线的私车。需要和中间人谈价，不能直接和私车车主谈。从格尔木到拉萨大约1000公里，沿途经过可可西里、五道梁、沱沱河、雁石坪、唐古拉山口、那曲、当雄等地。<b>（司机开车会睡着——《十年背包》）</b></p>

<p><a href=http://baike.baidu.com/view/47084.htm>青藏公路</a></p>

<p><a href=http://baike.baidu.com/view/2580.htm>青藏铁路</a></p>

<p>走青藏线会遇到热情好客的安多部</p>

<h3>新藏方向</h3>

<p>新藏线就是从新疆开始到西藏，如果去西藏之前会路过新疆的话，可以考虑从这条路进藏。目前只有新藏公路，铁路的话还在修建中。</p>

<p><a href=http://baike.baidu.com/view/196573.htm>新藏公路</a></p>

<h2>POI</h2>

<ul>
<li>玛吉阿米</li>
<li>拉母拉错</li>
<li>纳木错</li>
<li>大昭寺</li>
</ul>


<h2>参考博客</h2>

<p><a href="http://blog.sina.com.cn/s/blog_4c565d700100x2n1.html">http://blog.sina.com.cn/s/blog_4c565d700100x2n1.html</a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[复杂的感情]]></title>
    <link href="http://yoursite.com/blog/2013/10/03/fu-za-de-gan-qing/"/>
    <updated>2013-10-03T23:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/03/fu-za-de-gan-qing</id>
    <content type="html"><![CDATA[<p>前幾天被女神拒絕后，心情一直很糟，特別的失落。一直很想用一些文字來發洩一下心中的雜亂，可是卻找不到任何有力的文字。混亂的思想無法用自己幼稚的文字表達出來。不過漸漸的，我似乎明白了一些什麼道理，理解了她的想法。</p>

<p>像我這種一廂情願的人肯定有很多，自己喜歡的人，卻不一定喜歡自己。自己拿對方當做愛人，對方卻把自己當做普通朋友。自己追求很久的人，她也許也在追求其他的人。對方並沒有把你當做戀人，而只是普通朋友，所以和對方說話一定要很小心，一旦尺度過大，就會導致尷尬。經歷過多次后，自己心裡大概也有數，對方可能對自己沒感覺，但自己也不敢捅破那層窗戶紙，因為害怕被拒絕。寧可過著這樣小心翼翼的生活，將對方假想成自己的戀人，也不願意將話挑明，導致大家不歡而散。然而感情是複雜的，我還無法用某種邏輯思維去控制它，因此談話的內容難免有時會觸碰到對方的底線。終於在我出口問她之前，她主動捅破了窗戶紙。心中長久以來的擔憂卻已成真。</p>

<p>說到底，就是沒有互相吸引。我們這種不到30歲的年輕人，對於近期成家或許並沒有太大的執念，所以并不期望湊合著過，還是對一場轟轟烈烈的愛情充滿了期待。在尋找到生命中真正的伴侶之前，總是寧願不停的尋找，也不肯停下來看看自己的周圍。有些人會用很多標準去評判自己的追求者，一旦有某個條件沒有符合，就立即拉黑，如果條件符合就欣然接受；有些人卻比較感性，只要感覺對了就好，感覺不對對方再努力也是白搭。同樣兩個只憑感覺的人湊在一起，往往就無法在一起，因為兩者都對對方有感覺的概率，要遠遠小於兩者都滿足對方要求的概率。因為感情是個複雜的東西，也許感覺就在一瞬間不見了，也許感覺在一瞬間就產生了；而外在的條件是不容易變化的。也許同樣星座的人會有同樣的喜好，也許兩個人星座相同，都同樣相信感覺而不是理性的條件。這也許是相同星座比較難在一起的原因了。</p>

<p>我們在deadline來臨之前都是期望生活是豐富的，只有在deadline迫在眉睫的時候，才會用理性高效的方法去應對deadline. 有些人會選擇替代方案去解決這個問題；有些人卻喜歡寧缺毋濫。我不排斥前者，但我更加尊重後者，雖然他們浪費了追求者的一片用心，但卻保持了感情的純潔。也許我還太幼稚，對於感情的問題太理想化。但是一個沒有完全吸引自己的人，你是無法付出所有去愛這個人的。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[添加404页面]]></title>
    <link href="http://yoursite.com/blog/2013/10/02/add-404-page/"/>
    <updated>2013-10-02T23:48:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/02/add-404-page</id>
    <content type="html"><![CDATA[<p>今天给博客加了404页面，看起来感觉更加完整了一点。
加404页面的方法很简单，只要在<code>source</code>目录下面创建<code>404.html</code>文件，当发生404错误时，octopress就会自动跳转到<code>404.html</code>这个页面。
具体内容如下：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>---
</span><span class='line'>layout: page
</span><span class='line'>title: Sorry，404错误！你要访问的网页不存在!
</span><span class='line'>footer: false
</span><span class='line'>---</span></code></pre></td></tr></table></div></figure>


<p>其中的<code>title</code>可以改成任何自己想要的内容。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[从wordpress到octopress迁移成功]]></title>
    <link href="http://yoursite.com/blog/2013/10/01/cong-wordpressdao-octopressqian-yi-cheng-gong/"/>
    <updated>2013-10-01T23:49:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/01/cong-wordpressdao-octopressqian-yi-cheng-gong</id>
    <content type="html"><![CDATA[<p>忙活了一晚上，终于把原来wordpress的数据导入到了octopress中，心情不好的时候做些geek的事情转移一下注意力也不错，现在有点小开心。</p>

<p>我是参照下面这个链接介绍的方法，把原来wordpress的数据导出成xml文件，然后再用jekyll-import来转的。不过貌似转完之后还需要自己手动修改一些地方，比如代码高亮部分。幸好我之前的内容也不多，就小改了一下。
<a href=http://jekyllrb.com/docs/migrations/><a href="http://jekyllrb.com/docs/migrations/">http://jekyllrb.com/docs/migrations/</a></a></p>

<p>不过目前还有个问题，从wordpress转过来的文章，在超链接上还是有点问题，如果标题中有中文，转完后的文件名是unicode编码，之后会找不到超链接。于是我手动把那些文件名改成了英文，幸好文章不多，大概改了半小时改完了。</p>

<p>接下来要了解markdown语法啦，用这个写博客真的很酷！</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[改版octopress 之 安装]]></title>
    <link href="http://yoursite.com/blog/2013/10/01/change-to-octopress/"/>
    <updated>2013-10-01T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/10/01/change-to-octopress</id>
    <content type="html"><![CDATA[<p>心血来潮想把博客从wordpress改成octopress, 毕竟在heroku上想用wordpress上传照片不太方便，而且比起静态网页来，速度慢很多。</p>

<p>但是我之前没有碰过ruby，一步一步按照网上的guide慢慢来。</p>

<p>首先从git上抓来octopress</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git clone git@github.com:imathis/octopress.git</span></code></pre></td></tr></table></div></figure>


<p>然后进入octopress目录下，build源代码</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd octopress
</span><span class='line'>bundle install
</span><span class='line'>rake install</span></code></pre></td></tr></table></div></figure>


<p>以上几步都没有问题，然后执行</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake preview</span></code></pre></td></tr></table></div></figure>


<p>然后问题就来了，出现了错误</p>

<p>Starting to watch source with Jekyll and Compass. Starting Rack on port 4000
rake aborted!
undefined method `spawn&#8217; for Process:Module</p>

<p>因为octopress需要ruby 1.9.3，而我原本mac上的ruby是1.8.3. 所以要把ruby更新到1.9.3才能用</p>

<p>网上看了一遍后，用RVM可以很好的管理ruby的版本，可以方便的在多个ruby版本中进行切换，还能很方便的安装新版的ruby.</p>

<p>我安装stable版本的rvm</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>curl -L https://get.rvm.io | bash -s stable</span></code></pre></td></tr></table></div></figure>


<p>然后将rvm写到用户环境中。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>echo "source $HOME/.rvm/scripts/rvm" &gt;&gt; ~/.bash_profile</span></code></pre></td></tr></table></div></figure>


<p>具体详见 <a href="https://rvm.io/rvm/install"><a href="https://rvm.io/rvm/install">https://rvm.io/rvm/install</a></a></p>

<p>然后使用rvm来安装1.9.3版本的ruby.</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rvm install ruby-1.9.3-p448</span></code></pre></td></tr></table></div></figure>


<p>不过在这之前，要先确定安装了xcode的command line tools.</p>

<p>可能因为国内网络的原因，这个安装过程相当的漫长，我觉得应该先去吃个午饭比较好。。。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[HIVE中使用python实现UDF]]></title>
    <link href="http://yoursite.com/blog/2013/09/25/hive-python-udf/"/>
    <updated>2013-09-25T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/09/25/hive-python-udf</id>
    <content type="html"><![CDATA[<p>HIVE，FACEBOOK的一个开源项目，利用类SQL的语句（HiveQL）来加快一般的MapReduce的开发过程。</p>

<p>UDF，user defined function, 因为HIVE毕竟不是一般的关系型数据库，支持的HQL有限，如果要实现复杂的功能，就要通过自己定义函数来帮助实现。</p>

<p>HIVE应该利用PIPE的原理，将自己查询的结果放到python脚本的stdin中。所以他的查询结果不会显示在terminal中，terminal中显示的结果是python的执行结果。</p>

<p>使用HIVE的命令进入数据仓库(search)</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>use search;</span></code></pre></td></tr></table></div></figure>


<p>使用HIVE的命令查看已经建立的表</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>show tables;</span></code></pre></td></tr></table></div></figure>


<p>使用HIVE的命令查看xxx表中的字段</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>describe xxx;</span></code></pre></td></tr></table></div></figure>


<p>使用HIVE命令用PYTHON实现UDF</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>add file udf.py;
</span><span class='line'>SELECT 
</span><span class='line'>TRANSFORM(keyword)
</span><span class='line'>USING 'python udf.py'
</span><span class='line'>AS(keyword)
</span><span class='line'>FROM xxx
</span><span class='line'>WHERE dt='2013-09-25'
</span><span class='line'>;</span></code></pre></td></tr></table></div></figure>


<p>要注意的是，这里的TRANSFORM的内容可以写*，但是AS()里就不能写*，会报错。</p>

<p>输入到python中的内容，是按照AS里的数量来决定的。</p>

<p>下面是python的脚本，内容很简单，就是把输入的东西原封不动输出来。</p>

<figure class='code'><figcaption><span>udf.py</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'><span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">sys</span><span class="o">.</span><span class="n">stdin</span><span class="p">:</span>
</span><span class='line'>  <span class="n">line</span> <span class="o">=</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</span><span class='line'>  <span class="k">print</span> <span class="n">line</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[寻找自己的生活]]></title>
    <link href="http://yoursite.com/blog/2013/09/19/looking-for-my-life/"/>
    <updated>2013-09-19T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/09/19/looking-for-my-life</id>
    <content type="html"><![CDATA[<p>转眼间，从台湾回来已经半个多月了。回来之后也忙了不少事情，最大一件事应该是找了一份不错的工作，了去一桩心事。不过其他的心事也接踵而来，比如找房子，找对象等。。。</p>

<p>感觉在毕业之后的两个礼拜内就能找到一份工作，算是相当的神速。不过也有很多客观原因，使得我不得不当机立断，没有太多的“货比三家”的时间。老爸似乎对我这个选择也没有非常满意，在他看来进到一个大家公认的大公司要比呆在一个小公司里做些核心的事情要有意义的多。但是在我看来，我并没有因为进不了这些大公司而感到过分沮丧，我是一个善于自我治愈的人，一开始虽然是有点放不下大公司offer的诱惑，不过在我签下这个到手的offer之后，自我治愈的过程就开始了。能够在一个核心部门发挥自己的价值，能够直接提高产品的效能，能够马上和这家公司的牛人们一起工作，使我对这个工作的兴奋感越来越强。没过多久，我已经把自己的心情恢复到了平衡点上。</p>

<p>现在很多事情都已经一步一步确定，接下来的就是上班工作的节奏了。这几天比较关心的问题就是下班之后干什么？我估摸着自己现在肯定不是一个工作狂，在下班之后希望能及时行乐。那我可以干些什么事呢？然后我发现我一直以来都有的一个问题，就是专注力不够集中，做事很容易分心。不过在deadline的驱使下，我的专注力还是很强的。于是我决定开始看书，一方面补充自己贫乏的人文知识，一方面锻炼自己的专注力。第三方面，也是为了能和喜欢看书的人有些共同语言。这几天看的几本书感觉都不错，曾经的伪文青终于得到了真正的文化知识的滋润了。</p>

<p>对于即将工作的我来说，接下来的日子还很长，还有很多路要走。在生活中有很多东西想要去追逐，希望这些追逐的东西不要在未来的某一天，被证明是可有可无的。希望能找到我自己真正喜欢的生活方式。</p>

<p>&nbsp;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[在島上的最後幾天]]></title>
    <link href="http://yoursite.com/blog/2013/08/29/last-days-in-taiwan/"/>
    <updated>2013-08-29T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/08/29/last-days-in-taiwan</id>
    <content type="html"><![CDATA[<p>兩年前的今天，我忙著收拾行李，忙著和朋友吃飯告別，準備著來台灣的一切。對台灣的了解也只是林志玲和聯發科。</p>

<p>經過了兩年的生活，雖然不能肯定說自己對台灣有多了解，但肯定是被台灣深深的吸引了。</p>

<p><span style="line-height: 1.714285714; font-size: 1rem;">我喜歡藍色，因為天空是藍色，大海是藍色，深處廣闊的藍色中，有一種獨特的滿足感。</span></p>

<p><span style="line-height: 1.714285714; font-size: 1rem;">在台灣，我看到了最美的藍色，小時候作文中藍藍的天空，白白的雲朵，終於在這裡讓我領略到它們的美。</span></p>

<p><img class="alignnone" alt="" src="http://farm8.staticflickr.com/7399/9614610447_96d627a476.jpg" width="500" height="333" /></p>

<p>以前在大陸時，我不經常去海邊，偶爾幾次去海邊，看到的大海和我心目中的大海還是有很大差距。在這裡，我看到了比我心目中更美的大海。</p>

<p><img class="alignnone" alt="" src="http://farm3.staticflickr.com/2813/9617841176_5de61743b0.jpg" width="500" height="333" /></p>

<p><span style="line-height: 1.714285714; font-size: 1rem;">在如此美麗的沙灘上，似乎任何煩惱都會暫時的忘記。</span></p>

<p>台灣吸引我的，除了看不完的美景，還有忘不了的人情。</p>

<p>初來台灣，令我最想不到的是台北的建築。這裡的建築和大陸的高大，浮華不同，它們沒有艷麗的外表，卻深深的流露出溫馨的感覺。走在學校附近的窄小的巷子，兩邊的房子看似都有20多年的房齡，卻還是這麼生機盎然的感覺，房子與房子之間挨的很近，如同親密的老朋友，互相幫助，互相扶持。</p>

<p><img class="alignnone" alt="" src="http://farm3.staticflickr.com/2876/9614592679_b48a78d9a3.jpg" width="500" height="333" /></p>

<p>房子和房子之間都如此親密無間，人和人之間更是如此。在台灣特別能感受到人情味，路人之間的一絲微笑，言語上的一聲謝謝，人與人之間的信任感，都會令我感到身邊的都是家人。</p>

<p>前幾天和實驗室的同學一起開車環島，在即將離開的時候，能再次體會台灣的美。曾經以為來台灣只是為了學業，匆匆的度過兩年，什麼都不留下，什麼都不帶走。沒想到在這兩年中，能認識這麼多朋友，留下那麼多的友情。有過悲傷，有過歡樂。在心情最低落的時候，有朋友陪我一起喝酒；在壓力山大的時候，有朋友一起肩並肩一起度過。這兩年記錄了人生中豐富的內容，我變得比以前成熟了。</p>

<p><img class="alignnone" alt="" src="http://farm4.staticflickr.com/3700/9618201436_28c61c7ea5_c.jpg" width="534" height="800" /></p>

<p>兩年后的我們不知身在何處，做著未知的事情。但願一切都若初見。</p>

<p>好基友，一輩子。</p>

<p>&nbsp;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[關於中國男籃被台灣男籃完爆]]></title>
    <link href="http://yoursite.com/blog/2013/08/10/big-fail-in-basketball/"/>
    <updated>2013-08-10T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/08/10/big-fail-in-basketball</id>
    <content type="html"><![CDATA[<p>中國男籃輸台灣，是在情理之中。籃球在台灣是一個很流行的運動，基本上每個男生都會打籃球，還有很多的女生也參與其中。和大陸不一樣的是，這裡的人除了愛看球，更加喜歡自己上場打球。在學校裡，除了校內的學生，還有很多校外已經工作的人在空餘時間來打球。除了年輕人，有時還能看到不少中老年人在打球。目測場上的年齡差距最高可達30歲。籃球已經在台灣成為一種文化，文化就是深入每個人的思想中，並不是為了應付比賽而匆忙組隊開練。文化是每個人都會盡力參與其中，堅持不斷。在我的學校，每個系都有自己的系隊，包括男籃和女籃，並且有規律的訓練。學生們都會組織各個規模的比賽，有學校之間的，也有各系之間的。</p>

<p>在台灣生活過就知道，體育活動在這裡基本上每個人的日常。學校的體育設施基本上都是爆滿，越到晚上，體育場，體育館的人數就越多。而且台北的運動設施非常豐富，許多河濱公園都有球場，自行車道，和慢跑路線。每個人都可以充分利用這些運動資源。</p>

<p><span style="font-size: 1rem;">至於足球，雖然目前在台灣沒有很普及，但</span><span style="line-height: 1.714285714; font-size: 1rem;">是我看到越來越多的小孩在踢球。假期裡，很多10歲左右的小孩在我們學校的體育場進行看似正規的訓練，這在中國是罕見的事情，哪個家長會讓自己的孩子在近40度的天氣裡出來踢球，而不在家裡溫習功課呢？我覺得按照中國足球的現狀，必備亞洲各個國家完爆。</span></p>

<p><span style="line-height: 1.714285714; font-size: 1rem;">一個獨裁統治的社會，就連體育也是被獨裁統治的。我們都只是圍觀，不明覺厲。</span><span style="line-height: 1.714285714; font-size: 1rem;">像中國這種“精英式”的選人方式，大多數人只能在旁邊看熱鬧而已。奧運金牌再多，都是屁。</span></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[即將再見的學生]]></title>
    <link href="http://yoursite.com/blog/2013/07/28/goodbye-campus/"/>
    <updated>2013-07-28T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/07/28/goodbye-campus</id>
    <content type="html"><![CDATA[<p>前幾天順利的通過了口試，心中的一塊大石終於落下。這也意味著我的學生身份即將到期，接下來就要自己掙錢生活了。</p>

<p>以前從來沒體會過自己生活是什麼的感受，雖然說我從初中開始就開始住學校，一直經過初中，高中，大學，和研究所。這十多年來也算比較獨立了。可是住學校宿舍，和自己找房子在外面住的感覺還是不一樣的。這些年雖然沒有住在家裡，但是還是能夠感受到父母罩著我，不用擔心食宿問題。如今就要踏入社會，父母對我的態度也有所轉變，我跟他們說我之後不直接飛回家，而是先飛上海。還以為媽媽會勸我還是飛寧波會比較好，之後再送我去上海。沒想到她說那就隨便你吧。那一刻有些失落，不過同時也體會到了媽媽覺得我已經長大了，已經獨立了。當然我也是這麼想的。今天晚上試著在網上找房子租，隨便敲了幾個關鍵字，跳出來一大堆租房信息。我該從哪裡入手？竟然一點都不知道。租房子的流程是如何？需要看風水嗎？會不會是凶宅？滿腦子都是這些。看來在網上找房子，光看幾張照片還是不靠譜。</p>

<p>我從來都是一個怕麻煩的人，結束了單純的學生生活後，麻煩的事會越來越多。這時候抱怨自己的社會經驗不足已經來不及了，要盡快的向身邊人學習生活經驗才對。現在要像Howard一樣，離開媽媽，獨自生活了。</p>

<p>&nbsp;</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[不變的永遠]]></title>
    <link href="http://yoursite.com/blog/2013/07/23/never-change/"/>
    <updated>2013-07-23T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/07/23/never-change</id>
    <content type="html"><![CDATA[<p>聽到五月天的《如煙》</p>

<blockquote>有沒有那麼一種永遠，永遠不改變&#8230;
17歲的那一年，吻過她的臉，以為就能永遠&#8230;</blockquote>


<p>思緒又回到了大學的回憶當中。人們說不斷的回憶過去，是對現實的不滿，對現實的無奈。那麼我現在只能忍受這些不滿，忍受這些無奈。</p>

<p>經歷過台灣的大學生活後，我深深的體會到自己的大學生活是如此的枯燥。沒有豐富的社團活動，沒有精彩的舞臺表演，沒有冒險的旅行。但是有一點是我非常驕傲，也非常值得回憶的，就是在大學四年裡談了一場戀愛，和一個美麗的女孩，一個獨特性格的女孩。讓我枯燥的大學生活記錄中多了永遠值得懷念的一幅畫面。</p>

<p>以前在一起時，從來都沒想過有一天會分開，直到有一次真的分開了，才體會到軀體和靈魂分開的感覺。終究無法忍受沒有靈魂的生活，千方百計地，我又試圖挽回了這段感情。這一切都是自己的自私和任性造成的，在這段感情上終究是被自己留下了傷痕。傷痕無法抵擋地理距離的阻隔（也許也是心理上的阻隔），最終我們還是分手了。現在去討論為什麼已經沒有什麼意義了，我沒有資格去干涉她追求未來幸福的權利，因為我也沒有把她留住的信心。所以我尊重她的決定。</p>

<p>幸運的，我們並沒有像大多數分手的人那樣，成為了老死不相往來的人，甚至成為了仇人（至少我沒有感覺到我們之間有互相的記恨）。現在說這個似乎是非常輕鬆，但我也經過了近一年的思想鬥爭。真正的放下也許並不是說說這麼容易的，很多療傷的方法並不是每個人都適合。我覺得真正的放下，就是承認我們的美好已經成為了回憶，這些美好都只會存在于回憶中，不會發生在將來。我並不希望把對方互相拉黑，從此就是仇人。因為她畢竟是你愛了整整四年的人，是你幻想能有共同家庭的人，是你在四年之中都認為是終生伴侶的人。想到這裡，沒有任何理由去憎恨她，沒有任何理由去傷害她（甚至到現在還想保護她）。而是一種祝福，祝福她能遇到幫我完成當時願望的人。</p>

<p>雖然在一起的時候我們也停不了各種爭吵，但這些都不會在我的記憶里持續太久。時間就是幫助我過濾到這些雜質，剩下的是純淨的回憶，剩下來的是美好的回憶。也許很難記起我們第一次吵架的地點，但卻能夠清楚的記得我第一次親你的自習室，在教室的最後一排。記憶里留下的，是每一天，你坐在自行車的後座上，我載著你，在校園里。除了回憶，就是感激。非常榮幸在你大學時光中，陪伴在你身邊的人是我，感謝你給我的機會。並不是所有人都能有在大學里談戀愛的經歷，我想如果當初你拒絕我，也許我也會和很多人一樣，在沒有愛的大學里度過四年的青春。這樣我大學的回憶就真的只剩鍵盤，鼠標和一行行冰冷的代碼了。</p>

<p>也許這世上能夠成為永遠的，就是過去的回憶。那如果是這樣，希望我的回憶永遠都是美好的。謝謝你帶給我美好的回憶。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OpenCV in Python]]></title>
    <link href="http://yoursite.com/blog/2013/07/20/opencv-in-python/"/>
    <updated>2013-07-20T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/07/20/opencv-in-python</id>
    <content type="html"><![CDATA[<p>OpenCV基本上每個學Computer Vision都用過，我之前也是用C++來使用OpenCV, 最近為了處理一些圖片轉影片，加Marker之類的簡單的操作，懶得再用C++去寫。於是就嘗試用Python來寫OpenCV.</p>

<p>在Python中使用OpenCV, 只要把OpenCV的Library加到Python的Lib目錄下面就可以了。</p>

<p>具體就是把OpenCV目錄下的”build/python/2.7/cv2.pyd&#8221; 複製到Python的“Lib/site-packages”目錄中。</p>

<p>OpenCV被包在cv2这个module中，在一开始加载这个module就可以了。</p>

<p>OpenCV中经常会用到cv::Size, cv::Point, 在python中就用tuple来代替，不用再定义cv::Size或者cv::Point. 比如原来C++中定义一个size用cv::Size(640,480), 现在Python中直接用(640,480)来代替就好了。</p>

<p>下面这个例子就是把image_dir中的图片转换成avi格式的影片</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='python'><span class='line'><span class="kn">import</span> <span class="nn">sys</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">os</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">cv2</span>
</span><span class='line'><span class="kn">import</span> <span class="nn">re</span>
</span><span class='line'><span class="k">def</span> <span class="nf">intCmp</span> <span class="p">(</span> <span class="n">x</span><span class="p">,</span><span class="n">y</span> <span class="p">):</span>
</span><span class='line'>  <span class="n">a</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;([\d]+).png&#39;</span><span class="p">,</span><span class="n">x</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="n">b</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s">&#39;([\d]+).png&#39;</span><span class="p">,</span><span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">a</span><span class="p">)</span><span class="o">-</span><span class="nb">int</span><span class="p">(</span><span class="n">b</span><span class="p">)</span>
</span><span class='line'><span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span>
</span><span class='line'>  <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span><span class="o">&lt;</span><span class="mi">3</span><span class="p">:</span>
</span><span class='line'>      <span class="k">print</span> <span class="s">&quot;Usage: </span><span class="si">%s</span><span class="s"> (image_dir) (output)&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</span><span class='line'>      <span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
</span><span class='line'>  <span class="n">image_dir</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</span><span class='line'>  <span class="n">output_file</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
</span><span class='line'>  <span class="n">image_list</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">image_dir</span><span class="p">),</span><span class="nb">cmp</span><span class="o">=</span><span class="n">intCmp</span><span class="p">)</span>
</span><span class='line'>  <span class="n">video_writer</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">VideoWriter</span><span class="p">(</span><span class="n">output_file</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">30</span><span class="p">,(</span><span class="mi">640</span><span class="p">,</span><span class="mi">480</span><span class="p">))</span>
</span><span class='line'>  <span class="k">for</span> <span class="n">image_file</span> <span class="ow">in</span> <span class="n">image_list</span><span class="p">:</span>
</span><span class='line'>      <span class="k">print</span> <span class="n">image_file</span>
</span><span class='line'>      <span class="n">img</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">imread</span><span class="p">(</span><span class="s">&quot;</span><span class="si">%s</span><span class="s">/</span><span class="si">%s</span><span class="s">&quot;</span><span class="o">%</span><span class="p">(</span><span class="n">image_dir</span><span class="p">,</span><span class="n">image_file</span><span class="o">.</span><span class="n">strip</span><span class="p">()))</span>
</span><span class='line'>      <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s">&quot;rgb&quot;</span><span class="p">,</span><span class="n">img</span><span class="p">)</span>
</span><span class='line'>      <span class="n">key</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</span><span class='line'>      <span class="n">video_writer</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">img</span><span class="p">)</span>
</span><span class='line'>      <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">27</span><span class="p">:</span>
</span><span class='line'>          <span class="k">break</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>更多的细节可以看document</p>

<p><a href="http://docs.opencv.org/modules/refman.html"><a href="http://docs.opencv.org/modules/refman.html">http://docs.opencv.org/modules/refman.html</a></a></p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[关于C++ std::map]]></title>
    <link href="http://yoursite.com/blog/2013/07/17/cpp-std-map/"/>
    <updated>2013-07-17T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/07/17/cpp-std-map</id>
    <content type="html"><![CDATA[<p>C++的std::map是个很好用的东西，将key和value进行对应，而且可以是任意类型的key.</p>

<p>以前一直没有研究过具体这个MAP是怎么实现的，只是大概的知道它是一个binary search tree. 那如果一个key不是数字，字符串这种相对简单的类型的时，而是一个vector, 或者一个pair类型的对象时，key要如何对应value呢？</p>

<p>我在Quora上提了这个问题，很快就有人回答了。</p>

<blockquote>std::map is a self-balancing binary search tree ordered using a comparator, whose type is given as the third template parameter to std::map. If you don&#8217;t give this template parameter, it defaults to std::less&lt;KeyType&gt;. std::less is basically a function object wrapper around the &#8220;&lt;&#8221; operator. The &lt; operator is defined for types like int, as well as for std::pair (which compares lexicographically).</blockquote>


<p>Map中的Key会按照它自己的类中定义的less运算符去比较大小，如果像vector, pair这种多元素的对象，会根据里面所有数据的字典序来进行大小的判断。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[用matlab畫Confusion matrix]]></title>
    <link href="http://yoursite.com/blog/2013/07/16/matlab-confusion-matrix/"/>
    <updated>2013-07-16T00:00:00+08:00</updated>
    <id>http://yoursite.com/blog/2013/07/16/matlab-confusion-matrix</id>
    <content type="html"><![CDATA[<p>在pattern recognition 中通常用confusion matrix 來表示實驗結果。最近處理論文的實驗結果時發現用matlab可以比較方便的畫出confusion matrix來。</p>

<p>以下是效果图。</p>

<p><img class="aligncenter" alt="" src="http://farm8.staticflickr.com/7364/9303955419_9aafcbf1c2_o.png" width="584" height="477" /></p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
</pre></td><td class='code'><pre><code class='matlab'><span class='line'><span class="n">n</span> <span class="p">=</span> 14<span class="p">;</span>
</span><span class='line'><span class="n">file</span> <span class="p">=</span> <span class="s">&#39;data.csv&#39;</span><span class="p">;</span>
</span><span class='line'><span class="n">ylabels</span> <span class="p">=</span> <span class="p">[</span><span class="s">&#39;BT&#39;</span><span class="p">;</span><span class="s">&#39;CC&#39;</span><span class="p">;</span><span class="s">&#39;CS&#39;</span><span class="p">;</span><span class="s">&#39;DW&#39;</span><span class="p">;</span><span class="s">&#39;OC&#39;</span><span class="p">;</span><span class="s">&#39;  &#39;</span><span class="p">;</span><span class="s">&#39;RC&#39;</span><span class="p">;</span><span class="s">&#39;RW&#39;</span><span class="p">;</span><span class="s">&#39;SS&#39;</span><span class="p">;</span><span class="s">&#39;TC&#39;</span><span class="p">;</span><span class="s">&#39;TP&#39;</span><span class="p">;</span><span class="s">&#39;WL&#39;</span><span class="p">;</span><span class="s">&#39;WC&#39;</span><span class="p">;</span><span class="s">&#39;WW&#39;</span><span class="p">];</span>
</span><span class='line'><span class="n">xlabels</span> <span class="p">=</span> <span class="p">[</span><span class="s">&#39;BT&#39;</span><span class="p">;</span><span class="s">&#39;CC&#39;</span><span class="p">;</span><span class="s">&#39;CS&#39;</span><span class="p">;</span><span class="s">&#39;DW&#39;</span><span class="p">;</span><span class="s">&#39;OC&#39;</span><span class="p">;</span><span class="s">&#39;  &#39;</span><span class="p">;</span><span class="s">&#39;RC&#39;</span><span class="p">;</span><span class="s">&#39;RW&#39;</span><span class="p">;</span><span class="s">&#39;SS&#39;</span><span class="p">;</span><span class="s">&#39;TC&#39;</span><span class="p">;</span><span class="s">&#39;TP&#39;</span><span class="p">;</span><span class="s">&#39;WL&#39;</span><span class="p">;</span><span class="s">&#39;WC&#39;</span><span class="p">;</span><span class="s">&#39;WW&#39;</span><span class="p">];</span>
</span><span class='line'>
</span><span class='line'><span class="n">X</span> <span class="p">=</span> <span class="n">csvread</span><span class="p">(</span><span class="n">file</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'><span class="c">%normalize</span>
</span><span class='line'><span class="k">for</span> <span class="nb">i</span><span class="p">=</span>1<span class="p">:</span><span class="n">n</span>
</span><span class='line'>    <span class="n">X</span><span class="p">(</span><span class="nb">i</span><span class="p">,:)=</span><span class="n">X</span><span class="p">(</span><span class="nb">i</span><span class="p">,:)</span><span class="o">/</span><span class="n">norm</span><span class="p">(</span><span class="n">X</span><span class="p">(</span><span class="nb">i</span><span class="p">,:),</span>1<span class="p">);</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="c">%inverse data</span>
</span><span class='line'><span class="n">X</span><span class="p">=</span><span class="n">imcomplement</span><span class="p">(</span><span class="n">X</span><span class="p">);</span>
</span><span class='line'><span class="c">%draw</span>
</span><span class='line'><span class="n">imagesc</span><span class="p">(</span><span class="n">X</span><span class="p">);</span>
</span><span class='line'><span class="n">colormap</span><span class="p">(</span><span class="n">gray</span><span class="p">);</span>
</span><span class='line'><span class="n">axis</span> <span class="n">off</span><span class="p">;</span>
</span><span class='line'><span class="n">text</span><span class="p">(</span>0<span class="p">,</span>6<span class="p">,</span><span class="s">&#39;Random&#39;</span><span class="p">,</span><span class="s">&#39;HorizontalAlignment&#39;</span><span class="p">,</span><span class="s">&#39;right&#39;</span><span class="p">);</span>
</span><span class='line'><span class="k">for</span> <span class="nb">i</span><span class="p">=</span>1<span class="p">:</span><span class="n">n</span>
</span><span class='line'>    <span class="n">text</span><span class="p">(</span>0<span class="p">,</span><span class="nb">i</span><span class="p">,</span><span class="n">ylabels</span><span class="p">(</span><span class="nb">i</span><span class="p">,:),</span><span class="s">&#39;HorizontalAlignment&#39;</span><span class="p">,</span><span class="s">&#39;right&#39;</span><span class="p">);</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="n">h</span><span class="p">=</span><span class="n">text</span><span class="p">(</span>6<span class="p">,</span><span class="n">n</span><span class="o">+</span>1<span class="p">,</span><span class="s">&#39;Netural&#39;</span><span class="p">,</span><span class="s">&#39;VerticalAlignment&#39;</span><span class="p">,</span><span class="s">&#39;middle&#39;</span><span class="p">,</span><span class="s">&#39;HorizontalAlignment&#39;</span><span class="p">,</span><span class="s">&#39;right&#39;</span><span class="p">);</span>
</span><span class='line'><span class="n">set</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="s">&#39;rotation&#39;</span><span class="p">,</span>60<span class="p">);</span>
</span><span class='line'><span class="k">for</span> <span class="nb">i</span><span class="p">=</span>1<span class="p">:</span><span class="n">n</span>
</span><span class='line'>    <span class="n">h</span> <span class="p">=</span> <span class="n">text</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span><span class="n">n</span><span class="o">+</span>1<span class="p">,</span><span class="n">xlabels</span><span class="p">(</span><span class="nb">i</span><span class="p">,:),</span><span class="s">&#39;VerticalAlignment&#39;</span><span class="p">,</span><span class="s">&#39;middle&#39;</span><span class="p">,</span><span class="s">&#39;HorizontalAlignment&#39;</span><span class="p">,</span><span class="s">&#39;right&#39;</span><span class="p">);</span>
</span><span class='line'>    <span class="n">set</span><span class="p">(</span><span class="n">h</span><span class="p">,</span><span class="s">&#39;rotation&#39;</span><span class="p">,</span>60<span class="p">);</span>
</span><span class='line'><span class="k">end</span>
</span><span class='line'><span class="nb">disp</span><span class="p">(</span><span class="n">X</span><span class="p">);</span>
</span><span class='line'><span class="c">%add value</span>
</span><span class='line'><span class="k">for</span> <span class="nb">i</span><span class="p">=</span>1<span class="p">:</span><span class="n">n</span>
</span><span class='line'>    <span class="k">for</span> <span class="nb">j</span><span class="p">=</span>1<span class="p">:</span><span class="n">n</span>
</span><span class='line'>        <span class="k">if</span> <span class="n">X</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span><span class="nb">j</span><span class="p">)</span><span class="o">&lt;</span>0<span class="p">.</span>7
</span><span class='line'>            <span class="n">text</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span><span class="nb">j</span><span class="p">,</span><span class="n">num2str</span><span class="p">(</span>1<span class="o">-</span><span class="n">X</span><span class="p">(</span><span class="nb">i</span><span class="p">,</span><span class="nb">j</span><span class="p">),</span><span class="s">&#39;%.2f&#39;</span><span class="p">),</span><span class="s">&#39;VerticalAlignment&#39;</span><span class="p">,</span><span class="s">&#39;middle&#39;</span><span class="p">,</span><span class="s">&#39;HorizontalAlignment&#39;</span><span class="p">,</span><span class="s">&#39;center&#39;</span><span class="p">,</span><span class="s">&#39;color&#39;</span><span class="p">,</span><span class="s">&#39;white&#39;</span><span class="p">);</span>
</span><span class='line'>        <span class="k">end</span>
</span><span class='line'>    <span class="k">end</span>
</span><span class='line'><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
</feed>
